(("undefined"!==typeof self?self:this).webpackJsonp=("undefined"!==typeof self?self:this).webpackJsonp||[]).push([[307],{1836:function(e,t,a){"use strict";a.r(t);var n=a(6),l=a(280),r=a(2),o=a(27),u=a(39),d=a(9),s=a(1409),i=a(319),c=a(19),m=a(164),p=a(425),v=Object(n.defineComponent)({__name:"SurfaceDropdownReactionGrade",props:{usageContext:null},setup(e){const t=e,{accumulatedReactionsByWishId:a,originalReactionData:v,currentReactionData:x,postIdBeingReactedTo:f}=Object(c.f)(Object(i.a)()),_=Object(n.computed)(()=>a.value[f.value]||{sum:0,totalReactionsCount:0}),g=Object(n.computed)(()=>{var e,t,a,n;return null!==(n=null!==(t=null===(e=null===x||void 0===x?void 0:x.value)||void 0===e?void 0:e.max_value)&&void 0!==t?t:null===(a=null===v||void 0===v?void 0:v.value)||void 0===a?void 0:a.max_value)&&void 0!==n?n:l.a}),h=Object(n.computed)(()=>O.value&&O.value>g.value?Object(r.b)("Overachiever! The maximum grade is %{maxGrade}",{maxGrade:g.value}):null),b=Object(n.computed)(()=>h.value?h.value:O.value===g.value?Object(r.b)("Perfect!"):""),C=Object(n.computed)(()=>{var e,t;return null===(t=null===(e=_.value)||void 0===e?void 0:e.userReaction)||void 0===t?void 0:t.value}),O=Object(n.ref)(null),k=Object(n.ref)(!1),y=Object(n.ref)(!1);const S=Object(c.f)(Object(m.a)()).isDarkMode,D=Object(c.f)(Object(p.a)()).colorScheme,I=Object(n.computed)(()=>"postExpandedView"===t.usageContext?S.value:"dark"===D.value),{createReaction:G,updateReaction:R,deleteReaction:j,stopEditingReaction:B}=Object(i.a)();return{__sfc:!0,props:t,accumulatedReactionsByWishId:a,originalReactionData:v,currentReactionData:x,postIdBeingReactedTo:f,accumulatedReaction:_,maxGrade:g,numpadError:h,numpadMessage:b,myGrading:C,numpadInputValue:O,shouldOverWriteNumpadInput:k,updatingNumpadInputValue:y,numpadAppendNumber:function(e){y.value||h.value||(y.value=!0,k.value&&(O.value=0),O.value=10*(O.value||0)+e,k.value=!1,y.value=!1)},numpadDeleteLastNumber:function(){y.value||(y.value=!0,k.value=!1,null!==O.value&&(O.value=Math.floor(O.value/10),0===O.value&&(O.value=null)),y.value=!1)},isDarkMode:S,colorScheme:D,isPadletColorSchemeDark:I,createReaction:G,updateReaction:R,deleteReaction:j,stopEditingReaction:B,submitNumpadGrade:function(){O.value?null!=C.value?R({postId:f.value,value:O.value}):G({postId:f.value,value:O.value}):j({postId:f.value}),B()},grade:function(e){const t=parseInt(e.currentTarget.value,10);null!=C.value?R({postId:f.value,value:t}):G({postId:f.value,value:t}),B()},ungrade:function(){j({postId:f.value}),B()},__:r.b,OzIcon:o.default,OzTextButton:u.default,OzTextButtonColorScheme:u.OzTextButtonColorScheme,OzContainedButton:d.d,OzContainedButtonColorScheme:d.a,SurfaceDropdownReactionBase:s.a}}}),x=a(3),f=Object(x.a)(v,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return a.postIdBeingReactedTo&&"grade"==a.originalReactionData.type?t(a.SurfaceDropdownReactionBase,{attrs:{"dropdown-label":a.__("Select grade for post"),"modal-mode-title":a.__("Grade Post"),"close-button-aria-label":a.__("Close grading dialog"),"submit-button-aria-label":a.__("Submit grade for post"),"preferred-modal-mode-height":412,"x-modal-mode-submit-button":!0,"can-submit":!a.numpadError,"usage-context":e.usageContext,"is-padlet-color-scheme-dark":a.isPadletColorSchemeDark},on:{submit:a.submitNumpadGrade},scopedSlots:e._u([{key:"modalModeContent",fn:function(){return[t("div",{class:["flex","flex-row","h-10","items-center","font-sans",a.isPadletColorSchemeDark?"text-light-text-300":"text-dark-text-300"],attrs:{"aria-hidden":"true"}},[t("div",{class:{"text-heading-2":!0,"flex-grow":!0,flex:!0,"justify-end":!0,"px-1":!0,"text-danger-100":null!==a.numpadInputValue&&!!a.numpadError,"text-dark-text-100":null!==a.numpadInputValue&&!a.numpadError&&!a.isPadletColorSchemeDark,"text-light-text-100":null!==a.numpadInputValue&&!a.numpadError&&a.isPadletColorSchemeDark},style:{flexBasis:0}},[t("span",{class:{"font-semibold":!0,"text-heading-1":null!==a.numpadInputValue}},[e._v(e._s(null!==a.numpadInputValue?a.numpadInputValue:a.__("No grade")))]),e._v(" "),null===a.numpadInputValue?t("span",{class:["animate-blink","font-light",a.isPadletColorSchemeDark?"text-canary-500":"text-grape-500"]},[e._v("|")]):e._e()]),e._v(" "),t("div",{staticClass:"text-14"},[e._v("/")]),e._v(" "),t("div",{staticClass:"text-14 flex-grow",style:{flexBasis:0}},[e._v(e._s(a.maxGrade))])]),e._v(" "),t("p",{staticClass:"sr-only",attrs:{"aria-live":"polite"}},[e._v("\n      "+e._s(a.numpadInputValue?a.__("Your current grade is %{currentGrade} of %{maxGrade}.",{currentGrade:a.numpadInputValue,maxGrade:a.maxGrade}):a.__("You haven't indicated a grade yet."))+"\n    ")]),e._v(" "),a.numpadMessage&&!a.numpadError?t("div",{class:["h-5","flex","justify-center","text-alert-body-small",a.isPadletColorSchemeDark?"text-light-text-300":"text-dark-text-300"]},[e._v("\n      "+e._s(a.numpadMessage)+"\n    ")]):a.numpadMessage&&a.numpadError?t("div",{staticClass:"h-5 flex justify-center text-alert-body-small text-danger-100",attrs:{"aria-live":"assertive"}},[e._v("\n      "+e._s(a.numpadMessage)+"\n    ")]):e._e(),e._v(" "),t("div",{staticClass:"mt-5 mx-4 grid grid-cols-3 gap-3",attrs:{dir:"ltr"}},[e._l([1,2,3,4,5,6,7,8,9],(function(e){return t(a.OzContainedButton,{key:"grade-reaction-numpad-"+e,staticClass:"h-12 text-heading-2",attrs:{"color-scheme":a.OzContainedButtonColorScheme.Secondary,text:e,"aria-label":a.__("Enter digit %{digit}",{digit:e}),"dark-mode":a.isPadletColorSchemeDark,disabled:!!a.numpadError},on:{touchend:function(t){return t.preventDefault(),a.numpadAppendNumber(e)},click:function(t){return a.numpadAppendNumber(e)}}})})),e._v(" "),t(a.OzContainedButton,{staticClass:"h-12 text-heading-2 col-start-2",attrs:{"color-scheme":a.OzContainedButtonColorScheme.Secondary,text:"0","aria-label":a.__("Enter digit %{digit}",{digit:0}),"dark-mode":a.isPadletColorSchemeDark,disabled:!!a.numpadError},on:{touchend:function(e){return e.preventDefault(),a.numpadAppendNumber(0)},click:function(e){return a.numpadAppendNumber(0)}}}),e._v(" "),t(a.OzTextButton,{staticClass:"h-12 justify-self-stretch col-start-3",attrs:{"color-scheme":a.OzTextButtonColorScheme.Secondary,"dark-mode":a.isPadletColorSchemeDark,disabled:null===a.numpadInputValue,"aria-label":a.__("Remove last digit")},on:{touchend:function(e){return e.preventDefault(),a.numpadDeleteLastNumber.apply(null,arguments)},click:a.numpadDeleteLastNumber}},[t(a.OzIcon,{attrs:{name:"backspace",size:24}})],1)],2)]},proxy:!0},{key:"dropdownModeContent",fn:function(){return[t("div",{staticClass:"flex items-center space-s-1"},[t("select",{attrs:{"aria-label":a.__("Grade this post between %{minGrade} and %{maxGrade}",{minGrade:0,maxGrade:a.maxGrade})},on:{change:a.grade}},[e._l(Array(Math.floor(a.maxGrade+1)),(function(n,l){return t("option",{key:l,attrs:{"aria-selected":a.myGrading===l},domProps:{value:l,selected:a.myGrading===l}},[e._v("\n          "+e._s(l)+"\n        ")])})),e._v(" "),a.myGrading||0===a.myGrading?e._e():t("option",{attrs:{value:"",selected:""}})],2),e._v(" "),t("span",{class:["text-14","font-sans",a.isPadletColorSchemeDark?"text-light-text-100":"text-dark-text-100"],attrs:{"aria-hidden":"true"}},[e._v("/"+e._s(a.maxGrade))])]),e._v(" "),t(a.OzTextButton,{class:["font-semibold","text-14","h-8","p-0"],attrs:{"color-scheme":a.OzTextButtonColorScheme.Secondary,"dark-mode":a.isPadletColorSchemeDark,text:a.__("Ungrade"),"aria-label":a.__("Ungrade this post")},on:{click:a.ungrade}})]},proxy:!0}],null,!1,3493719507)}):e._e()}),[],!1,null,null,null);t.default=f.exports}}]);
//# sourceMappingURL=307-0f341aefcbda89b752e9.chunk.js.map