(("undefined"!==typeof self?self:this).webpackJsonp=("undefined"!==typeof self?self:this).webpackJsonp||[]).push([[195],{1021:function(t,e,o){"use strict";var i=o(0),n=o(1022),r=o.n(n),a=o(231),s=o(27),l=function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},c=function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)};let d=class extends i.j{get scale(){return this.height/37}get hexWidth(){return 32*this.scale}get hexHeight(){return this.height}get bgClasses(){switch(this.backgroundColor){case"pink":return["bg-padlet-pink"];case"green":return["bg-park"];case"orange":return["bg-tangerine"];case"blue":return["bg-oceanic"];case"yellow":return["bg-canary-500"];case"purple":return["bg-grape-500"];case"white":return["bg-light-ui-200"];case"black":return["bg-dark-ui-200"];case"monochrome":return["bg-light-ui-200","dark:bg-nightfall"];case"transparent":return["bg-transparent"];case"loadingColors":return["bg-grape-500","dark:bg-canary-500"]}return["bg-light-ui-200"]}get textClasses(){const t=this.color;switch(this.backgroundColor){case"pink":case"green":case"orange":case"blue":case"purple":case"black":return["primary"==t?"text-white-100":"","secondary"==t?"text-white-200":"","tertiary"==t?"text-white-300":"","disabled"==t?"text-white-400":""];case"yellow":case"white":return["primary"==t?"text-highway-100":"","secondary"==t?"text-highway-200":"","tertiary"==t?"text-highway-300":"","disabled"==t?"text-highway-400":""];case"monochrome":case"transparent":case"loadingColors":return["primary"==t?"text-highway-100 dark:text-white-100":"","secondary"==t?"text-highway-200 dark:text-white-200":"","tertiary"==t?"text-highway-300 dark:text-white-300":"","disabled"==t?"text-highway-400 dark:text-white-400":"","invertedPrimary"==t?"text-white-100 dark:text-highway-100":""]}return[]}get hoverColorClasses(){if(!this.isButton)return[];switch(this.backgroundColor){case"pink":return["hover-hover:hover:animate-pulse-bg-color","pulse-bg-from-padlet-pink-500","pulse-bg-to-padlet-pink-600","dark:pulse-bg-from-padlet-pink-500","dark:pulse-bg-to-padlet-pink-400"];case"green":return["hover-hover:hover:animate-pulse-bg-color","pulse-bg-from-park-500","pulse-bg-to-park-600","dark:pulse-bg-from-park-500","dark:pulse-bg-to-park-400"];case"orange":return["hover-hover:hover:animate-pulse-bg-color","pulse-bg-from-tangerine-500","pulse-bg-to-tangerine-600","dark:pulse-bg-from-tangerine-500","dark:pulse-bg-to-tangerine-400"];case"blue":return["hover-hover:hover:animate-pulse-bg-color","pulse-bg-from-oceanic-500","pulse-bg-to-oceanic-600","dark:pulse-bg-from-oceanic-500","dark:pulse-bg-to-oceanic-400"];case"purple":return["hover-hover:hover:animate-pulse-bg-color","pulse-bg-from-grape-500","pulse-bg-to-grape-600","dark:pulse-bg-from-grape-500","dark:pulse-bg-to-grape-400"];default:return[]}}get activeFocusColorClasses(){if(!this.isButton)return[];switch(this.backgroundColor){case"pink":return["hover-hover:active:animate-none","hover-hover:focus:animate-none","active:bg-padlet-pink-700","dark:active:bg-padlet-pink-400","focus:bg-padlet-pink-700","dark:focus:bg-padlet-pink-400"];case"green":return["hover-hover:active:animate-none","hover-hover:focus:animate-none","active:bg-park-700","dark:active:bg-park-400","focus:bg-park-700","dark:focus:bg-park-400"];case"orange":return["hover-hover:active:animate-none","hover-hover:focus:animate-none","active:bg-tangerine-700","dark:active:bg-tangerine-400","focus:bg-tangerine-700","dark:focus:bg-tangerine-400"];case"blue":return["hover-hover:active:animate-none","hover-hover:focus:animate-none","active:bg-oceanic-700","dark:active:bg-oceanic-400","focus:bg-oceanic-700","dark:focus:bg-oceanic-400"];case"purple":return["hover-hover:active:animate-none","hover-hover:focus:animate-none","active:bg-grape-700","dark:active:bg-grape-400","focus:bg-grape-700","dark:focus:bg-grape-400"];default:return[]}}get styles(){const t=this.isChrome&&this.isMac?{clipPath:"url(#rounded-hexagon-svg-clip-path)"}:{maskImage:this.hexMask,maskSize:"100% 100%"};return Object.assign({minWidth:this.hexWidth+"px",maxWidth:this.hexWidth+"px",minHeight:this.hexHeight+"px",maxHeight:this.hexHeight+"px"},t)}get iconStyle(){return{maxWidth:this.iconSize+"px",width:this.iconSize+"px",height:this.iconSize+"px",fontSize:` ${this.iconSize}px`,lineHeight:""+this.iconLineHeight}}get hexMask(){return`url(${r.a})`}click(t){this.isButton&&(this.$emit("click",t),this.shouldStopClickPropagation&&t.stopPropagation())}};l([Object(i.h)({default:48}),c("design:type",Number)],d.prototype,"height",void 0),l([Object(i.h)({default:"pink"}),c("design:type",String)],d.prototype,"backgroundColor",void 0),l([Object(i.h)({default:""}),c("design:type",String)],d.prototype,"iconName",void 0),l([Object(i.h)({default:"oricon"}),c("design:type",String)],d.prototype,"iconFont",void 0),l([Object(i.h)({default:24}),c("design:type",Number)],d.prototype,"iconSize",void 0),l([Object(i.h)({default:""}),c("design:type",String)],d.prototype,"text",void 0),l([Object(i.h)({default:"primary"}),c("design:type",String)],d.prototype,"color",void 0),l([Object(i.h)({default:1}),c("design:type",Number)],d.prototype,"iconLineHeight",void 0),l([Object(i.h)({default:!1}),c("design:type",Boolean)],d.prototype,"isButton",void 0),l([Object(i.h)({default:!1}),c("design:type",Boolean)],d.prototype,"shouldStopClickPropagation",void 0),l([Object(i.h)({default:""}),c("design:type",String)],d.prototype,"imageUrl",void 0),l([Object(i.h)({default:""}),c("design:type",String)],d.prototype,"imageAltText",void 0),l([i.i,c("design:type",Boolean)],d.prototype,"isChrome",void 0),l([i.i,c("design:type",Boolean)],d.prototype,"isMac",void 0),d=l([Object(i.b)({components:{OzIcon:s.default,OzAvatar:a.a}})],d);var p=d,u=o(3),h=Object(u.a)(p,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{class:["flex","items-center","justify-center","select-none",t.bgClasses,t.textClasses,t.hoverColorClasses,t.activeFocusColorClasses,t.isButton&&"cursor-pointer"],style:t.styles,attrs:{role:t.isButton&&"button",tabindex:t.isButton&&0},on:{click:t.click,keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.click.apply(null,arguments)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"])?null:t.click.apply(null,arguments)}]}},[t.iconName?e("OzIcon",{class:["flex-auto","text-center",t.textClasses],style:t.iconStyle,attrs:{name:t.iconName,font:t.iconFont,size:t.iconSize}}):t.imageUrl?e("OzAvatar",{attrs:{height:t.height,width:t.height,src:t.imageUrl,"alt-text-name":t.imageAltText}}):t._e(),t._v("\n\n  "+t._s(t.text&&t.text)+"\n")],1)}),[],!1,null,null,null);e.a=h.exports},1022:function(t,e,o){t.exports=o.p+"media/images/rounded-hexagon-d06c029393fed206931352d962c06c5e.svg"},111:function(t,e,o){"use strict";var i=o(0),n=o(49),r=function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)};let s=class extends i.j{constructor(){super(...arguments),this.isTouchingTopOfScreen=!1}scrimClick(){this.$emit("scrim-click")}scrimEsc(){this.$emit("scrim-esc")}mounted(){this.fullSize&&(this.isTouchingTopOfScreen=!0),this.$refs.modalContainer.clientHeight>=this.$el.clientHeight&&(this.isTouchingTopOfScreen=!0)}};r([Object(i.h)({default:!1}),a("design:type",Boolean)],s.prototype,"fullSize",void 0),r([Object(i.h)({default:"auto"}),a("design:type",Object)],s.prototype,"darkMode",void 0),r([Object(i.h)({default:!0}),a("design:type",Boolean)],s.prototype,"xScrim",void 0),r([Object(i.h)({default:!1}),a("design:type",Boolean)],s.prototype,"isScrimSpectral",void 0),r([Object(i.h)({default:!0}),a("design:type",Boolean)],s.prototype,"shouldFadeIn",void 0),r([Object(i.h)({required:!1}),a("design:type",String)],s.prototype,"zIndexClass",void 0),r([Object(i.h)({required:!1}),a("design:type",Boolean)],s.prototype,"hideScrollbar",void 0),s=r([Object(i.b)({components:{OzOverlay:n.a}})],s);var l=s,c=(o(220),o(3)),d=Object(c.a)(l,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("transition",{attrs:{"leave-active-class":"out",duration:200}},[e("OzOverlay",{class:["overflow-hidden","flex","flex-col","justify-end","items-center","font-sans"],attrs:{"is-spectral":t.isScrimSpectral,scrim:t.xScrim?"modal":null,"should-fade-in":t.shouldFadeIn,"z-index-class":t.zIndexClass,"dark-mode":t.darkMode},on:{"scrim-click":t.scrimClick,"scrim-esc":t.scrimEsc}},[e("div",{ref:"modalContainer",class:[{"w-full":!0,"max-h-full":!0,"min-h-full":t.fullSize,"overflow-auto flex flex-col":!0,"modal-container":!0,"shadow-elevation-5":!t.fullSize,"rounded-none":t.isTouchingTopOfScreen,"rounded-3xl rounded-br-none rounded-bl-none":!t.isTouchingTopOfScreen,"full-size":t.fullSize,"bg-light-ui-100 dark:bg-dark-ui-100":"auto"===t.darkMode,"bg-light-ui-100 ":!1===t.darkMode,"bg-dark-ui-100":!0===t.darkMode,"pb-safe-inset-bottom":!0}]},[e("div",{class:[{"max-h-full flex flex-grow flex-col overflow-hidden":!0}]},[t.$slots.header?e("header",[t._t("header")],2):t._e(),t._v(" "),e("div",{class:{"flex flex-grow flex-col p-0 overflow-auto":!0,"no-scrollbar":t.hideScrollbar}},[t._t("body")],2)])])])],1)}),[],!1,null,"5243e09c",null);e.a=d.exports},140:function(t,e,o){},1401:function(t,e,o){var i=o(1733);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,o(45).default)("26b777ef",i,!0,{})},1402:function(t,e,o){},143:function(t,e,o){var i=o(221);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,o(45).default)("64885c28",i,!0,{})},1725:function(t,e,o){t.exports=o.p+"media/images/composer_modal_hex_grid_desktop_dark-5133cc2f94474d655beba63dfb83603e.svg"},1726:function(t,e,o){t.exports=o.p+"media/images/composer_modal_hex_grid_desktop_dark_docked-5cb6480eb2336e9d7909d0ad93b048af.svg"},1727:function(t,e,o){t.exports=o.p+"media/images/composer_modal_hex_grid_desktop_light-75d4a6e11cb0e0f67015de8bc8d7bb3d.svg"},1728:function(t,e,o){t.exports=o.p+"media/images/composer_modal_hex_grid_desktop_light_docked-23aa572ee33a32f4ebfc62fb15828f41.svg"},1729:function(t,e,o){t.exports=o.p+"media/images/composer_modal_hex_grid_mobile_tablet-9abe299c6ddf96a2761f1d9daca8c984.svg"},1732:function(t,e,o){"use strict";o(1401)},1733:function(t,e,o){(t.exports=o(44)(!1)).push([t.i,'/* style for formatted texts inside the editor (list, quote, highlight, ...)\n * need deep to work with the underlying trix editor\n */\n[data-v-61bad384] .new-post-modal-editor {\n    white-space: pre-wrap;\n}\n[data-v-61bad384] .new-post-modal-editor var {\n    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;\n    display: block;\n    text-align: center;\n}\n[data-v-61bad384] .new-post-modal-editor pre {\n    white-space: pre-wrap;\n    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;\n    border-radius: 0.125rem;\n    padding: 0.5em;\n    --tw-bg-opacity: 1;\n    background-color: rgba(236, 236, 236, var(--tw-bg-opacity));\n}\n@media (prefers-color-scheme: dark) {\n[data-v-61bad384] .new-post-modal-editor pre {\n        --tw-bg-opacity: 1;\n        background-color: rgba(50, 51, 53, var(--tw-bg-opacity));\n}\n}\n[data-v-61bad384] .new-post-modal-editor pre {\n    margin-left: -0.5em;\n    margin-right: -0.5em;\n}\n[data-v-61bad384] .new-post-modal-editor ol {\n    list-style-type: decimal;\n}\n[data-v-61bad384] .new-post-modal-editor ul {\n    list-style-type: disc;\n}\n[data-v-61bad384] .new-post-modal-editor ul,[data-v-61bad384] .new-post-modal-editor ol {\n    list-style-position: outside;\n    padding-inline-start: 2em;\n}\n[data-v-61bad384] .new-post-modal-editor ul li,[data-v-61bad384] .new-post-modal-editor ol li {\n      margin: 0.25em 0;\n}\n[data-v-61bad384] .new-post-modal-editor blockquote {\n    font-style: italic;\n    border-style: solid;\n    border-color: rgba(0, 0, 0, 0.38);\n}\n@media (prefers-color-scheme: dark) {\n[data-v-61bad384] .new-post-modal-editor blockquote {\n        border-color: rgba(255,255,255,0.5);\n}\n}\n[data-v-61bad384] .new-post-modal-editor blockquote {\n    border-left-width: 0.25em;\n    padding: 0 1em;\n}\n[data-v-61bad384] .new-post-modal-editor mark {\n    --tw-bg-opacity: 1;\n    background-color: rgba(255, 196, 128, var(--tw-bg-opacity));\n}\n@media (prefers-color-scheme: dark) {\n[data-v-61bad384] .new-post-modal-editor mark {\n        --tw-bg-opacity: 1;\n        background-color: rgba(167, 121, 0, var(--tw-bg-opacity));\n}\n}\n[data-v-61bad384] .new-post-modal-editor mark {\n    color: currentColor;\n}\n[data-v-61bad384] .new-post-modal-editor strong {\n    font-weight: 600;\n}\n[data-v-61bad384] .new-post-modal-editor a {\n    text-decoration: underline;\n    color: currentColor;\n    text-underline-position: from-font;\n}\n',""])},1734:function(t,e,o){t.exports=o.p+"media/images/fallback_file-96368877a1bb2a12d1af5f69bebabe82.png"},1735:function(t,e,o){"use strict";o(1402)},1747:function(t,e,o){"use strict";o.r(e);var i=o(71),n=o(0),r=o(381),a=o(1124),s=function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},l=function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)};let c=class extends n.j{constructor(){super(...arguments),this.overlayTop=0}get isDocked(){return"docked"===this.state}get isExpanded(){return"expanded"===this.state}get isMinimized(){return"minimized"===this.state}get actualVisualViewportHeight(){return Math.round(this.visualViewportHeight*this.visualViewportScale)}get isVirtualKeyboardShowing(){return this.actualVisualViewportHeight<this.windowHeight}get virtualKeyboardHeight(){return this.isVirtualKeyboardShowing?this.windowHeight-this.actualVisualViewportHeight:0}get overlayPaddingStyle(){return this.isExpanded?{paddingBottom:this.virtualKeyboardHeight+this.overlayTop+"px",paddingTop:-this.overlayTop+"px"}:{}}get overlayMouseDownEvent(){return this.isExpanded?"mousedown":null}get overlayTouchStartEvent(){return this.isExpanded?"touchstart":null}get xExtraContent(){return!this.isPhone&&this.isExpanded}get minimizedWidthStyle(){return this.isMinimized?{minWidth:"0px",flexBasis:"164px",maxWidth:"164px"}:{}}get minimizedZIndexClass(){return this.xMinimizedContextMenu?"z-dropdown":"z-minimized-modal"}get modalMinHeight(){if(this.isPhone)return 0;const t=this.visualViewportHeight-(this.isNarrowLandscapeViewport?68:92);return Math.min(t,this.isVirtualKeyboardShowing?404:540)}get isNarrowLandscapeViewport(){return this.visualViewportHeight<this.visualViewportWidth&&this.visualViewportHeight<330}cancel(){this.$emit("close")}onWindowScroll(){this.$refs.modalOverlay&&this.isExpanded&&(this.overlayTop=this.$refs.modalOverlay.getBoundingClientRect().top)}mounted(){this.onWindowScroll()}};s([Object(n.h)({default:"expanded"}),l("design:type",Object)],c.prototype,"state",void 0),s([Object(n.h)({required:!0}),l("design:type",Number)],c.prototype,"windowHeight",void 0),s([Object(n.h)({required:!0}),l("design:type",Number)],c.prototype,"visualViewportHeight",void 0),s([Object(n.h)({required:!0}),l("design:type",Number)],c.prototype,"visualViewportWidth",void 0),s([Object(n.h)({required:!0}),l("design:type",Number)],c.prototype,"visualViewportScale",void 0),s([Object(n.h)({required:!0}),l("design:type",Boolean)],c.prototype,"isPhone",void 0),s([Object(n.h)({default:!0}),l("design:type",Boolean)],c.prototype,"xExpandedOverlayColor",void 0),s([Object(n.h)({default:!1}),l("design:type",Boolean)],c.prototype,"xMinimizedContextMenu",void 0),s([Object(n.h)({default:!1}),l("design:type",Boolean)],c.prototype,"xNewSurfaceShadows",void 0),s([Object(n.h)({required:!0}),l("design:type",String)],c.prototype,"dir",void 0),c=s([Object(n.b)({mixins:[r.a,a.a]})],c);var d=c,p=o(3),u=Object(p.a)(d,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("transition",{attrs:{"enter-active-class":"transition-transform md:transition-none duration-200 ease-in transform","enter-class":"translate-y-full","enter-to-class":"translate-y-0","leave-active-class":"transition-transform md:transition-none duration-200 ease-out transform","leave-class":"translate-y-0","leave-to-class":"translate-y-full"}},[e("div",{ref:"modalOverlay",class:["flex",t.isMinimized?"flex-shrink":"flex-shrink-0","bg-none",...t.isExpanded?["fixed","inset-0","z-dockable-modal",t.xExpandedOverlayColor&&"bg-common-ui-darkened-bg","justify-center","items-center","pointer-events-auto"]:[t.isDocked?"z-docked-modal":t.minimizedZIndexClass,"pointer-events-none","max-h-screen-with-space-8"]],style:{...t.overlayPaddingStyle,...t.minimizedWidthStyle},attrs:{role:t.isExpanded&&"dialog","aria-label":t.isExpanded&&t.__("Post composer")},on:t._d({},[t.overlayMouseDownEvent,function(e){return e.target!==e.currentTarget?null:(e.stopPropagation(),t.$emit("overlay-clicked"))},t.overlayTouchStartEvent,function(e){return e.target!==e.currentTarget?null:(e.stopPropagation(),t.$emit("overlay-clicked"))}])},[t.isMinimized?t._t("minimized-content"):e("div",{key:"opened-modal",class:["h-full","w-full","md:h-auto","md:w-auto","my-0",t.isNarrowLandscapeViewport?"md:mt-2 md:max-h-[calc(100%-4rem)]":"md:mt-8 md:max-h-[calc(100%-6rem)]",t.isExpanded&&"md:mb-14","flex","pointer-events-none"],attrs:{dir:t.dir}},[t.xExtraContent?e("div",{staticClass:"w-12 pointer-events-none"},[t._t("extra-left")],2):t._e(),t._v(" "),e("div",{class:["pointer-events-auto","bg-white-100","dark:bg-nightfall-900","w-full","md:w-auto","md:h-auto",!t.isVirtualKeyboardShowing&&"pb-safe-inset-bottom md:pb-0","md:rounded-t-3xl","relative","z-0","flex","flex-col","overflow-hidden",t.isExpanded&&!t.isPhone&&"transition-all",t.isExpanded&&"md:rounded-3xl",t.xNewSurfaceShadows&&!t.isExpanded&&"shadow-elevation-2",t.xNewSurfaceShadows&&t.isExpanded&&"shadow-elevation-3"],style:t.isPhone?{}:{minHeight:t.modalMinHeight+"px"}},[t._t("modal-content")],2),t._v(" "),t.xExtraContent?e("div",{staticClass:"w-12 pointer-events-none"},[t._t("extra-right")],2):t._e(),t._v(" "),t.isMinimized?t._e():t._t("overflowable-modal-content")],2)],2)])}),[],!1,null,null,null).exports,h=o(18),g=o(55),f=o(436),m=o(1),v=function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},y=function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)};let b=class extends n.j{constructor(){super(...arguments),this.animatedProgressDegree=0,this.arcInterval=null}get centerPos(){return this.size/2}get circleStrokeWidth(){return this.size/9}get circleRadius(){return this.size/2-this.circleStrokeWidth}mounted(){this.$nextTick(()=>{const t=this.$refs.progressCanvas;t.style.width=this.size+"px",t.style.height=this.size+"px";const e=2*m.a.devicePixelRatio;t.width=this.size*e,t.height=this.size*e;t.getContext("2d").scale(e,e)})}updateProgressCircle(t){const e=3.6*t*100;this.$nextTick(()=>{const t=this.$refs.progressCanvas.getContext("2d");t.lineCap="round",this.arcInterval&&clearInterval(this.arcInterval),this.arcInterval=m.a.setInterval(()=>{this.animatedProgressDegree+=1,t.clearRect(0,0,this.size,this.size),t.beginPath(),t.arc(this.centerPos,this.centerPos,this.circleRadius,Math.PI/2*3,Math.PI/2*7),t.strokeStyle=this.darkMode?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.2)",t.lineWidth=this.circleStrokeWidth,t.stroke(),t.beginPath(),t.strokeStyle=this.darkMode?"#FEC006":"#9466E8",t.lineWidth=this.circleStrokeWidth,t.arc(this.centerPos,this.centerPos,this.circleRadius,Math.PI/2*3,Math.PI/180*(270-this.animatedProgressDegree),!0),t.stroke(),this.animatedProgressDegree>=e&&this.arcInterval&&clearInterval(this.arcInterval)},5)})}};v([Object(n.h)({required:!0}),y("design:type",Number)],b.prototype,"size",void 0),v([Object(n.h)({required:!0,validator:t=>t>=0&&t<=1}),y("design:type",Number)],b.prototype,"progress",void 0),v([Object(n.h)({required:!0}),y("design:type",Boolean)],b.prototype,"darkMode",void 0),v([Object(n.k)("progress",{immediate:!0}),y("design:type",Function),y("design:paramtypes",[Number]),y("design:returntype",void 0)],b.prototype,"updateProgressCircle",null),b=v([Object(n.b)({})],b);var x=b,k=Object(p.a)(x,(function(){var t=this._self._c;this._self._setupProxy;return t("canvas",{ref:"progressCanvas"})}),[],!1,null,null,null).exports,S=o(225),w=o.n(S),_=o(9),O=function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},C=function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)};let P=class extends n.j{cancel(){this.$emit("cancel")}};O([Object(n.h)({required:!0}),C("design:type",Boolean)],P.prototype,"xNewSurfaceShadows",void 0),P=O([Object(n.b)({})],P);var D=P,T=Object(p.a)(D,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"absolute font-sans inset-0 w-full h-full flex justify-center items-center bg-modal-overlay-light dark:bg-modal-overlay-dark z-modal",on:{mousedown:function(e){return e.target!==e.currentTarget?null:(e.stopPropagation(),t.cancel.apply(null,arguments))},touchstart:function(e){return e.target!==e.currentTarget?null:(e.stopPropagation(),t.cancel.apply(null,arguments))},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:(e.preventDefault(),e.stopPropagation(),t.cancel.apply(null,arguments))}}},[e("div",{class:["absolute","rounded-3xl","w-78","text-center","bg-light-ui-100","dark:bg-dark-ui-100",t.xNewSurfaceShadows&&"shadow-elevation-5"]},[t._t("body")],2)])}),[],!1,null,null,null).exports,j=function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},A=function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)};const M=Object(n.m)("composerModalAlert");let z=class extends n.j{constructor(){super(...arguments),this.alertSignSrc=w.a,this.OzContainedButtonColorScheme=_.a}handleKeydown(t){const e=!!this.$refs.primaryActionButton,o=!!this.$refs.secondaryActionButton,i=e&&this.$refs.primaryActionButton.$el===document.activeElement,n=o&&this.$refs.secondaryActionButton.$el===document.activeElement,r="Enter"===t.key||13===t.keyCode,a="Tab"===t.key||9===t.keyCode;r&&!i&&!n&&e&&(t.preventDefault(),this.$refs.primaryActionButton.$el.click()),a&&(t.preventDefault(),e&&!i?this.$refs.primaryActionButton.$el.focus():o&&!n&&this.$refs.secondaryActionButton.$el.focus())}mounted(){m.a.addEventListener("keydown",this.handleKeydown)}beforeDestroy(){m.a.removeEventListener("keydown",this.handleKeydown)}};j([n.d,A("design:type",Boolean)],z.prototype,"isUsingNewSurfaceShadows",void 0),j([M.State,A("design:type",String)],z.prototype,"title",void 0),j([M.State,A("design:type",String)],z.prototype,"body",void 0),j([M.State,A("design:type",String)],z.prototype,"primaryActionText",void 0),j([M.State,A("design:type",String)],z.prototype,"secondaryActionText",void 0),j([M.State,A("design:type",Boolean)],z.prototype,"isPrimaryActionDanger",void 0),j([M.Action,A("design:type",Function)],z.prototype,"executePrimaryActions",void 0),j([M.Action,A("design:type",Function)],z.prototype,"executeSecondaryActions",void 0),z=j([Object(n.b)({components:{OzContainedButton:_.d,SurfaceComposerModalPrompt:T}})],z);var B=z,R=Object(p.a)(B,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("surface-composer-modal-prompt",{attrs:{"x-new-surface-shadows":t.isUsingNewSurfaceShadows},on:{cancel:function(e){return t.$emit("cancel")}},scopedSlots:t._u([{key:"body",fn:function(){return[e("div",{ref:"alertBody",staticClass:"py-4",attrs:{tabindex:"-1"}},[e("img",{staticClass:"select-none",attrs:{src:t.alertSignSrc,width:"48",height:"40",alt:""}}),t._v(" "),e("div",{staticClass:"mt-4 mx-4 break-normal font-semibold text-alert-title text-dark-text-100 dark:text-light-text-100"},[t._v("\n        "+t._s(t.title)+"\n      ")]),t._v(" "),e("div",{staticClass:"mx-8 mt-4 break-normal font-normal text-alert-body-small text-dark-text-100 dark:text-light-text-100"},[t._v("\n        "+t._s(t.body)+"\n      ")]),t._v(" "),e("div",{staticClass:"mt-6 w-full flex flex-col items-center space-y-3"},[t.primaryActionText?e("OzContainedButton",{ref:"primaryActionButton",staticClass:"w-70",attrs:{"color-scheme":t.isPrimaryActionDanger?t.OzContainedButtonColorScheme.Destructive:t.OzContainedButtonColorScheme.Primary,text:t.primaryActionText},on:{click:t.executePrimaryActions}}):t._e(),t._v(" "),t.secondaryActionText?e("OzContainedButton",{ref:"secondaryActionButton",staticClass:"w-70",attrs:{"color-scheme":t.OzContainedButtonColorScheme.Secondary,text:t.secondaryActionText},on:{click:t.executeSecondaryActions}}):t._e()],1)])]},proxy:!0}])})}),[],!1,null,null,null).exports,I=o(14),E=o(41),F=o(532),H=o(473),N=o(22),L=o(84),$=o(1725),U=o.n($),G=o(1726),V=o.n(G),W=o(1727),q=o.n(W),K=o(1728),Y=o.n(K),X=o(1729),Z=o.n(X),J=o(86),Q=o(1021),tt=o(1730),et=o.n(tt),ot=function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},it=function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)};let nt=class extends n.j{constructor(){super(...arguments),this.TOTAL_HEXAGONS_DOCKED=53,this.TOTAL_HEXAGONS_EXPANDED=73,this.COLUMN_COUNT_DOCKED=11,this.COLUMN_COUNT_EXPANDED=15,this.MAX_COLUMN_COUNT_MOBILE_TABLET=33,this.shouldFillHexDocked={},this.unfilledHexKeysDocked=[],this.shouldFillHexExpanded={},this.unfilledHexKeysExpanded=[]}get nRows(){return this.isDesktop?5:2}get nCols(){return this.isDesktop?this.isDocked?this.COLUMN_COUNT_DOCKED:this.COLUMN_COUNT_EXPANDED:this.MAX_COLUMN_COUNT_MOBILE_TABLET-2*this.sideHexagonsOutsideModalCount+4}onProgress(t,e){if(t<.01)return;const o=t<1?Math.round((t-e)*this.TOTAL_HEXAGONS_EXPANDED):this.unfilledHexKeysExpanded.length,i=t<1?Math.round((t-e)*this.TOTAL_HEXAGONS_DOCKED):this.unfilledHexKeysDocked.length;for(let n=0;n<o;++n){const t=this.unfilledHexKeysExpanded.pop();t&&(this.shouldFillHexExpanded[t]=!0)}for(let n=0;n<i;++n){const t=this.unfilledHexKeysDocked.pop();t&&(this.shouldFillHexDocked[t]=!0)}}get totalHexagonsOnScreen(){return this.isDesktop?this.isDocked?this.TOTAL_HEXAGONS_DOCKED:this.TOTAL_HEXAGONS_EXPANDED:this.columnLimit(1)+this.columnLimit(2)-4}get progressUnitsDigit(){return Math.floor(100*this.progress%10)}get progressTensDigit(){return Math.floor(10*this.progress%10)}get columnIndexForTrashIcon(){const t=this.isDesktop?0:2;return this.nCols-t-1}columnLimit(t){return t%2===0?this.nCols:this.nCols-1}hexagonText(t,e){const o=1===Math.floor(this.progress);let i=1,n=2,r=3,a=4;if("rtl"===this.dir&&(i=o?4:3,n=o?3:2,r=o?2:1,a=1),0===t){if(e===this.columnIndexForTrashIcon-i)return"%";if(e===this.columnIndexForTrashIcon-n)return""+this.progressUnitsDigit;if(e===this.columnIndexForTrashIcon-r)return""+(this.progressTensDigit>0||1===Math.floor(this.progress)?this.progressTensDigit:"");if(o&&e===this.columnIndexForTrashIcon-a)return"1"}return""}shouldFillHexagon(t,e){if(!this.isDesktop){return(2*e-(0===t?1:0))/this.totalHexagonsOnScreen<=this.progress}return this.isDocked?!!this.shouldFillHexDocked[this.hexagonKey(t,e)]:!!this.shouldFillHexExpanded[this.hexagonKey(t,e)]}hexagonKey(t,e){return`${t}-${e}`}isCancelButton(t,e){return 0===t&&e===this.columnIndexForTrashIcon}created(){const t=t=>[...Array(this.COLUMN_COUNT_DOCKED-t%2).keys()],e=t=>[...Array(this.COLUMN_COUNT_EXPANDED-t%2).keys()],{dockedIndices:o,expandedIndices:i}=[0,1,2,3,4].reduce((o,i)=>({dockedIndices:[...o.dockedIndices,...t(i).map(t=>this.hexagonKey(i,t))],expandedIndices:[...o.expandedIndices,...e(i).map(t=>this.hexagonKey(i,t))]}),{dockedIndices:[],expandedIndices:[]});this.unfilledHexKeysDocked=et()(o),this.unfilledHexKeysExpanded=et()(i),this.progress&&this.onProgress(this.progress,0)}cancel(){this.$emit("cancel")}};ot([Object(n.h)({required:!0}),it("design:type",Boolean)],nt.prototype,"isDocked",void 0),ot([Object(n.h)({required:!0}),it("design:type",Number)],nt.prototype,"sideHexagonsOutsideModalCount",void 0),ot([Object(n.h)({required:!0}),it("design:type",Number)],nt.prototype,"progress",void 0),ot([n.d,it("design:type",Boolean)],nt.prototype,"isDesktop",void 0),ot([n.d,it("design:type",String)],nt.prototype,"dir",void 0),ot([Object(n.k)("progress"),it("design:type",Function),it("design:paramtypes",[Number,Number]),it("design:returntype",void 0)],nt.prototype,"onProgress",null),nt=ot([Object(n.b)({components:{RoundedHexagonIcon:Q.a}})],nt);var rt=nt,at=Object(p.a)(rt,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{class:["flex","flex-col","-space-y-1.25"]},t._l(t.nRows,(function(o,i){return e("div",{key:i,class:["flex","ltr:even:ml-4.25 rtl:even:mr-[18px]","space-x-0.5 rtl:space-x-reverse","w-min"],attrs:{dir:t.dir}},t._l(t.columnLimit(i),(function(o,n){return e("rounded-hexagon-icon",{key:t.hexagonKey(i,n),class:[!t.isCancelButton(i,n)&&"text-base",!t.isCancelButton(i,n)&&"font-semibold","transition-colors"],attrs:{height:37,"icon-size":20,"icon-line-height":.95,"icon-name":t.isCancelButton(i,n)&&"delete","background-color":t.shouldFillHexagon(i,n)?"loadingColors":"transparent",text:t.hexagonText(i,n),color:0===i&&t.shouldFillHexagon(i,n)?"invertedPrimary":"secondary",title:t.isCancelButton(i,n)&&t.__("Cancel"),"is-button":t.isCancelButton(i,n),"should-stop-click-propagation":!0},on:{click:t.cancel}})})),1)})),0)}),[],!1,null,null,null).exports,st=function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},lt=function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)};const ct=Object(n.m)("draft");let dt=class extends n.j{constructor(){super(...arguments),this.EXTRACTION_TIME_MS_95TH=12e3,this.fakeExtractionProgressIntervalId=null,this.fakeExtractionProgress=0,this.isFileUploadDone=!1}get isUploadingFile(){return!!this.activeDraft.uploadingFile}get uploadFileProgress(){return this.activeDraft.uploadProgress||0}get gridProgress(){const t=this.isUploadingFile||this.isFileUploadDone?.9*this.uploadFileProgress+.1*this.fakeExtractionProgress:this.fakeExtractionProgress;return Math.pow(t,2)}fakeExtractionAfterUpload(t){1===Math.floor(t)&&(this.isFileUploadDone=!0,this.startFakeExtractionProgress({intervalMs:this.EXTRACTION_TIME_MS_95TH/3,totalTimeMs:this.EXTRACTION_TIME_MS_95TH}))}startFakeExtractionProgress({intervalMs:t,totalTimeMs:e}){this.fakeExtractionProgressIntervalId=window.setInterval(()=>{this.fakeExtractionProgress+=t/e,1===Math.floor(this.fakeExtractionProgress)&&(this.fakeExtractionProgress=1,this.stopFakeExtractionProgress())},t)}stopFakeExtractionProgress(){this.fakeExtractionProgressIntervalId&&window.clearInterval(this.fakeExtractionProgressIntervalId)}cancelLoadAttachment(){this.isUploadingFile?this.stopUploadFileActiveDraft():this.removeDraftAttachment({postCid:this.activeDraft.cid})}mounted(){this.isUploadingFile||this.startFakeExtractionProgress({intervalMs:this.EXTRACTION_TIME_MS_95TH/24,totalTimeMs:this.EXTRACTION_TIME_MS_95TH})}beforeDestroy(){this.stopFakeExtractionProgress()}};st([Object(n.h)({required:!0}),lt("design:type",Boolean)],dt.prototype,"isDocked",void 0),st([Object(n.h)({required:!0}),lt("design:type",Number)],dt.prototype,"sideHexagonsOutsideModalCount",void 0),st([ct.Getter,lt("design:type",Object)],dt.prototype,"activeDraft",void 0),st([ct.Action,lt("design:type",Function)],dt.prototype,"removeDraftAttachment",void 0),st([ct.Action,lt("design:type",Function)],dt.prototype,"stopUploadFileActiveDraft",void 0),st([Object(n.k)("uploadFileProgress",{immediate:!0}),lt("design:type",Function),lt("design:paramtypes",[Number]),lt("design:returntype",void 0)],dt.prototype,"fakeExtractionAfterUpload",null),dt=st([Object(n.b)({components:{SurfaceComposerModalHexGridProgress:at}})],dt);var pt,ut=dt,ht=Object(p.a)(ut,(function(){var t=this._self._c;this._self._setupProxy;return t("surface-composer-modal-hex-grid-progress",{attrs:{"is-docked":this.isDocked,"side-hexagons-outside-modal-count":this.sideHexagonsOutsideModalCount,progress:this.gridProgress},on:{cancel:this.cancelLoadAttachment}})}),[],!1,null,null,null).exports,gt=o(322),ft=function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},mt=function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)};!function(t){t[t.Ready=0]="Ready",t[t.LoadingAttachment=1]="LoadingAttachment",t[t.HandlingDragEvent=2]="HandlingDragEvent"}(pt||(pt={}));const vt=Object(n.m)("browser"),yt=Object(n.m)("draft"),bt=Object(n.m)("contentPicker"),xt=Object(n.m)("dragAndDropEvents");let kt=class extends n.j{constructor(){super(...arguments),this.HEXAGON_WIDTH_WITH_SPACE=34,this.HEXAGON_HEIGHT=37,this.Source=gt.a,this.SearchFilters=L.a,this.isContentPickerOpenedFromHere=!1}get gridState(){var t;return this.isPageHandlingDragEvent?pt.HandlingDragEvent:(null===(t=this.activeDraft)||void 0===t?void 0:t.attachment)||this.activeDraftUploadingFile?pt.LoadingAttachment:pt.Ready}get isReadyState(){return this.gridState===pt.Ready}get isLoadingAttachment(){return this.gridState===pt.LoadingAttachment}get isHandlingDragEvent(){return this.gridState===pt.HandlingDragEvent}get shouldSetBackgroundColor(){return!this.isLargeUi||!this.isReadyState&&!this.isHandlingDragEvent}get gridWidth(){return this.isLargeUi?this.isDocked?372:508:1120}get gridHeight(){return this.isLargeUi?165:69}get hexGridImageUrl(){let t;return t=this.isLargeUi?this.isDocked?this.darkMode?V.a:Y.a:this.darkMode?U.a:q.a:Z.a,`url(${t})`}get maskedGridStyle(){return{maskImage:this.hexGridImageUrl,maskSize:"100% 100%"}}get gridStyle(){const t=this.gridWidth+"px",e=this.gridHeight+"px",o={minWidth:t,maxWidth:t,minHeight:e,maxHeight:e};return this.isLargeUi&&(this.isReadyState||this.isHandlingDragEvent)?o.backgroundImage=this.hexGridImageUrl:Object.assign(o,this.maskedGridStyle),o}get sideHexagonsOutsideModalCount(){if(this.isLargeUi)return 0;const t=this.isPhone?this.windowWidth:540;return Math.ceil(.5*(this.gridWidth-t)/this.HEXAGON_WIDTH_WITH_SPACE)}resetFile(){this.$refs.hiddenFileInput.value=""}uploadFile(t){this.uploadFileActiveDraft({file:t.target.files[0]})}getContent(t){this.pickContentSource({source:t})}getContentIfSupported(t,e){e===gt.a.FileBrowser?this.$refs.hiddenFileInput.click():this.isMobile?e===gt.a.PhotoBooth&&this.$refs.hiddenImageInput.click():this.getContent(e)}openContentSearchMenu(t,e){if(Object(N.a)("contentPicker",1)){const o={left:t.clientX,top:t.clientY};this.showContentSourceMenu({position:o,searchFilter:e,search:!0}),this.isContentPickerOpenedFromHere=!0,this.$nextTick(()=>{const t=document.querySelector("input.search-input");t&&t.focus()})}else this.getContent(gt.a.WebBrowser)}chooseContentSource(t){if(!this.isReadyState)return;const e={left:t.clientX,top:t.clientY};this.showContentSourceMenu({position:e}),this.isContentPickerOpenedFromHere=!0}openLinkInput(t){this.isReadyState&&(this.chooseContentSource(t),this.startLinkInputMode())}focusOnEditorOnMenuClose(t){t||this.isContentPickerOpenedFromHere&&(this.isContentPickerOpenedFromHere=!1,this.$emit("close-content-picker"))}};ft([Object(n.h)({required:!0}),mt("design:type",Boolean)],kt.prototype,"isDocked",void 0),ft([Object(n.h)({required:!0}),mt("design:type",Boolean)],kt.prototype,"isPageHandlingDragEvent",void 0),ft([Object(n.h)({required:!0}),mt("design:type",Boolean)],kt.prototype,"isLargeUi",void 0),ft([n.i,mt("design:type",Boolean)],kt.prototype,"isMobile",void 0),ft([n.d,mt("design:type",String)],kt.prototype,"dir",void 0),ft([vt.State,mt("design:type",Boolean)],kt.prototype,"darkMode",void 0),ft([vt.Getter,mt("design:type",Boolean)],kt.prototype,"isPhone",void 0),ft([vt.Getter,mt("design:type",Number)],kt.prototype,"windowWidth",void 0),ft([yt.Getter,mt("design:type",Object)],kt.prototype,"activeDraft",void 0),ft([yt.Getter,mt("design:type",Object)],kt.prototype,"activeDraftUploadingFile",void 0),ft([xt.Getter,mt("design:type",String)],kt.prototype,"dropActionMessage",void 0),ft([bt.Getter,mt("design:type",Boolean)],kt.prototype,"xContentPicker",void 0),ft([bt.Action,mt("design:type",Function)],kt.prototype,"pickContentSource",void 0),ft([bt.Action,mt("design:type",Function)],kt.prototype,"showContentSourceMenu",void 0),ft([bt.Action,mt("design:type",Function)],kt.prototype,"startLinkInputMode",void 0),ft([yt.Action,mt("design:type",Function)],kt.prototype,"uploadFileActiveDraft",void 0),ft([yt.Action,mt("design:type",Function)],kt.prototype,"updateActiveDraft",void 0),ft([Object(n.k)("xContentPicker"),mt("design:type",Function),mt("design:paramtypes",[Boolean]),mt("design:returntype",void 0)],kt.prototype,"focusOnEditorOnMenuClose",null),kt=ft([Object(n.b)({components:{RoundedHexagonIcon:Q.a,OzLoadingSpinner:J.a,SurfaceComposerModalAttachmentGridLoading:ht}})],kt);var St=kt,wt=Object(p.a)(St,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{class:["flex","justify-center",...t.shouldSetBackgroundColor?["bg-light-ui-200","dark:bg-dark-ui-200"]:[],t.isReadyState&&t.isLargeUi&&"items-center",t.isReadyState&&"cursor-pointer",t.isHandlingDragEvent&&"rounded-2xl border border-dashed border-grape-500 dark:border-canary-500 overflow-hidden"],style:t.gridStyle,on:{click:t.chooseContentSource}},[t.isReadyState?e("div",{class:["flex","flex-row","space-x-9 rtl:space-x-reverse"],attrs:{dir:t.dir}},[e("rounded-hexagon-icon",{attrs:{height:t.HEXAGON_HEIGHT,"background-color":"green","icon-size":20,"icon-name":t.isLargeUi?"upload":"photo_video","icon-line-height":.97,"is-button":!0,"should-stop-click-propagation":!0,title:t.__("Upload a file"),"aria-label":t.__("Upload a file")},on:{click:function(e){return t.getContentIfSupported(e,t.Source.FileBrowser)}}}),t._v(" "),e("input",{ref:"hiddenFileInput",attrs:{type:"file",hidden:""},on:{change:t.uploadFile,click:function(e){return e.stopPropagation(),t.resetFile.apply(null,arguments)}}}),t._v(" "),e("rounded-hexagon-icon",{attrs:{height:t.HEXAGON_HEIGHT,"background-color":"green","icon-size":20,"icon-name":"camera","icon-line-height":.97,"is-button":!0,"should-stop-click-propagation":!0,title:t.__("Take a photo"),"aria-label":t.__("Take a photo")},on:{click:function(e){return t.getContentIfSupported(e,t.Source.PhotoBooth)}}}),t._v(" "),e("input",{ref:"hiddenImageInput",attrs:{type:"file",accept:"image/*",capture:"environment",hidden:""},on:{change:t.uploadFile,click:function(t){t.stopPropagation()}}}),t._v(" "),e("rounded-hexagon-icon",{attrs:{height:t.HEXAGON_HEIGHT,"background-color":"orange","icon-size":20,"icon-name":"link","icon-line-height":.95,"is-button":!0,"should-stop-click-propagation":!0,title:t.__("Attach a link"),"aria-label":t.__("Attach a link")},on:{click:t.openLinkInput}}),t._v(" "),e("rounded-hexagon-icon",{attrs:{height:t.HEXAGON_HEIGHT,"background-color":"orange","icon-size":20,"icon-name":"image_search","icon-line-height":.95,"is-button":!0,"should-stop-click-propagation":!0,title:t.__("Search for an image"),"aria-label":t.__("Search for an image")},on:{click:function(e){return t.openContentSearchMenu(e,t.SearchFilters.Images)}}}),t._v(" "),e("rounded-hexagon-icon",{attrs:{height:t.HEXAGON_HEIGHT,"background-color":"pink","icon-size":20,"icon-name":"dot_3_horizontal","icon-line-height":.95,"is-button":!0,"should-stop-click-propagation":!0,title:t.__("More attachment types"),"aria-label":t.__("More attachment types")},on:{click:t.chooseContentSource}})],1):t.isLoadingAttachment?[e("surface-composer-modal-attachment-grid-loading",{attrs:{"is-docked":t.isDocked,"side-hexagons-outside-modal-count":t.sideHexagonsOutsideModalCount}})]:t.isHandlingDragEvent?e("div",{class:["rounded-2xl","flex","items-center","justify-center","backdrop-filter","backdrop-blur","bg-light-ui-100","dark:bg-dark-ui-100","bg-opacity-43","dark:bg-opacity-18","text-center","text-input-body","font-sans","break-words","text-grape-500 dark:text-canary-500","font-bold"],style:{width:t.gridWidth+"px"}},[t._v("\n    "+t._s(t.dropActionMessage)+"\n  ")]):t._e()],2)}),[],!1,null,null,null).exports,_t=o(135),Ot=o(39),Ct=o(557),Pt=o(1412),Dt=o(560),Tt=function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},jt=function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)};let At=class extends n.j{click(t){this.$emit("click")}};Tt([Object(n.h)(),jt("design:type",Boolean)],At.prototype,"xBorder",void 0),At=Tt([Object(n.b)({})],At);var Mt=At,zt=Object(p.a)(Mt,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("button",{class:["block","bg-light-ui-200","dark:bg-dark-ui-300","bg-opacity-80","dark:bg-opacity-86","text-dark-text-200","dark:text-light-text-200","backdrop-filter","backdrop-blur-md","no-underline","cursor-pointer","select-none","transition","focus:outline-none","h-6","w-17.5","rounded-lg",t.xBorder?"":"border-none","flex","items-center","justify-center","font-sans","font-semibold","text-body-extra-small","whitespace-nowrap","hover-hover:hover:bg-light-ui-300","hover-hover:dark:hover:bg-steel-active-dark","focus:bg-light-ui-300","dark:focus:bg-steel-active-dark","hover-hover:active:bg-grape-500","hover-hover:active:text-white-100","hover-hover:dark:active:bg-canary-500","hover-hover:dark:active:text-highway-100",...t.xBorder?["border","border-solid","border-attachment-preview-border-light","dark:border-attachment-preview-border-dark"]:""],attrs:{title:t.__("Remove attachment from post"),"aria-label":t.__("Remove attachment from post")},on:{click:t.click,keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.click.apply(null,arguments)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"])?null:t.click.apply(null,arguments)}]}},[t._v("\n  "+t._s(t.__("Remove"))+"\n")])}),[],!1,null,null,null).exports,Bt=function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},Rt=function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)};const It=Object(n.m)("browser"),Et=Object(n.m)("draft");let Ft=class extends n.j{constructor(){super(...arguments),this.OzTextButtonColorScheme=Ot.OzTextButtonColorScheme,this.isImageLoaded=!1,this.linkData=null,this.imageWidth=(()=>this.isShownOnSide?256:this.isPhone?343:this.isModalDocked?372:508)(),this.focusingCaptionOnLoad=!1}get darkThemeType(){return"browser"}get isDark(){return this.darkMode}get backgroundColor(){return this.darkMode?_t.a:_t.c}get buttonBackgroundColor(){return this.darkMode?_t.b:_t.d}get imageBackgroundColor(){return this.linkData?Object(_t.q)(this.linkData.image_color):this.backgroundColor}get isShowingAttachmentBorder(){return Object(_t.e)(this.backgroundColor,this.imageBackgroundColor)<1.5}get isShowingRemoveButtonBorder(){return Object(_t.e)(this.buttonBackgroundColor,this.imageBackgroundColor)<1.5}get attachmentTitle(){return Object(Ct.b)(this.linkData)}get isCustomAttachment(){var t,e,o;return!!(null===(o=null===(e=null===(t=this.activeDraft)||void 0===t?void 0:t.wish_content)||void 0===e?void 0:e.attachment_props)||void 0===o?void 0:o.type)}handleDeviceWidthChanged(){this.$nextTick(()=>{this.calculateImageSize()})}removeAttachment(){this.$emit("remove"),this.removeDraftAttachment({postCid:this.activeDraft.cid})}handleCaptionTextChange(t){this.updateActiveDraft({attachment_caption:t})}handleAttachmentDataLoaded(t){this.linkData=t}calculateImageSize(){this.imageWidth=this.$el.offsetWidth}handleAttachmentPreviewLoaded(){this.$emit("load"),this.isImageLoaded=!0,this.isPhone&&this.$nextTick(()=>{this.calculateImageSize()}),this.focusingCaptionOnLoad&&this.$nextTick(()=>{this.$refs.caption.focusOnLoad()})}handleAttachmentPreviewError(){}focusCaptionOnLoad(){this.isImageLoaded?this.$refs.caption.focusOnLoad():this.focusingCaptionOnLoad=!0}};Bt([Object(n.h)(),Rt("design:type",String)],Ft.prototype,"url",void 0),Bt([Object(n.h)(),Rt("design:type",Object)],Ft.prototype,"caption",void 0),Bt([Object(n.h)({required:!0}),Rt("design:type",Boolean)],Ft.prototype,"isModalDocked",void 0),Bt([Object(n.h)({default:!1}),Rt("design:type",Boolean)],Ft.prototype,"isShownOnSide",void 0),Bt([n.d,Rt("design:type",String)],Ft.prototype,"dir",void 0),Bt([It.Getter,Rt("design:type",Number)],Ft.prototype,"windowWidth",void 0),Bt([It.Getter,Rt("design:type",Boolean)],Ft.prototype,"isPhone",void 0),Bt([It.State,Rt("design:type",Boolean)],Ft.prototype,"darkMode",void 0),Bt([Et.Getter,Rt("design:type",Object)],Ft.prototype,"activeDraft",void 0),Bt([Et.Action,Rt("design:type",Function)],Ft.prototype,"updateActiveDraft",void 0),Bt([Et.Action,Rt("design:type",Function)],Ft.prototype,"removeDraftAttachment",void 0),Bt([Object(n.k)("windowWidth"),Rt("design:type",Function),Rt("design:paramtypes",[]),Rt("design:returntype",void 0)],Ft.prototype,"handleDeviceWidthChanged",null),Ft=Bt([Object(n.b)({components:{BeethovenAttachmentPreview:Dt.a,BeethovenAttachmentCaption:Pt.a,OzTextButton:Ot.default,SurfaceComposerModalAttachmentRemoveButton:zt}})],Ft);var Ht=Ft,Nt=Object(p.a)(Ht,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{class:["rounded-2xl","justify-center","flex","flex-col",t.isImageLoaded?" mt-4":"w-px h-0"]},[e("div",{staticClass:"relative flex"},[!t.isCustomAttachment&&t.isImageLoaded?e("SurfaceComposerModalAttachmentRemoveButton",{staticClass:"absolute ltr:right-2 rtl:left-2 bottom-2 z-10",attrs:{"x-border":t.isShowingRemoveButtonBorder},on:{click:t.removeAttachment}}):t._e(),t._v(" "),e("BeethovenAttachmentPreview",{attrs:{"border-radius-class":"rounded-2xl","x-border":t.isShowingAttachmentBorder,"x-metadata":!0,url:t.url,width:t.imageWidth,caption:t.caption,"lazy-loading":!1,"dark-theme-type":t.darkThemeType,"is-dark":t.isDark,"usage-context":"postModal","post-cid":t.activeDraft&&t.activeDraft.cid},on:{"load-data":t.handleAttachmentDataLoaded,"load-image":t.handleAttachmentPreviewLoaded,error:t.handleAttachmentPreviewError}})],1),t._v(" "),e("div",{class:["flex flex-row justify-end items-start","pt-2",t.isCustomAttachment?"px-3":"px-2"]},[t.isImageLoaded?e("BeethovenAttachmentCaption",{ref:"caption",class:["pe-2 flex-grow"],attrs:{caption:t.caption,"attachment-title":t.attachmentTitle,"can-edit-inline":t.isImageLoaded,"dark-theme-type":t.darkThemeType,"is-dark":t.isDark,"usage-context":"postModal"},on:{change:t.handleCaptionTextChange,"edit-start":function(e){return t.$emit("start-attachment-caption-edit")}}}):t._e(),t._v(" "),t.isCustomAttachment&&t.isImageLoaded?e("OzTextButton",{class:["p-0 m-0 flex-none",t.isPhone?"text-body-extra-small":"text-body-small-posts","font-semibold"],attrs:{"color-scheme":t.OzTextButtonColorScheme.SecondaryMuted,title:t.__("Remove attachment from post"),"aria-label":t.__("Remove attachment from post"),text:t.__("Remove")},on:{click:t.removeAttachment}}):t._e()],1)])}),[],!1,null,null,null).exports,Lt=o(27),$t=function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},Ut=function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)};let Gt=class extends n.j{get hasCustomIcon(){return!!this.$slots.customIcon}click(t){this.$emit("click",t)}};$t([Object(n.h)({default:"padlet"}),Ut("design:type",String)],Gt.prototype,"iconName",void 0),$t([Object(n.h)({default:16}),Ut("design:type",Number)],Gt.prototype,"iconSize",void 0),$t([Object(n.h)({required:!0}),Ut("design:type",String)],Gt.prototype,"text",void 0),$t([Object(n.h)({default:!1}),Ut("design:type",Boolean)],Gt.prototype,"disabled",void 0),Gt=$t([Object(n.b)({components:{OzIcon:Lt.default}})],Gt);var Vt=Gt,Wt=Object(p.a)(Vt,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("button",{class:["cursor-pointer","select-none","transition","focus:outline-none","h-8","rounded-3xl","border-none","flex","space-x-1.5 rtl:space-x-reverse","items-center","justify-center","text-12-18","font-normal","font-sans","whitespace-nowrap","ltr:pl-2.5 rtl:pl-3","ltr:pr-3 rtl:pr-2.5","bg-light-ui-300","dark:bg-dark-ui-300","text-highway-200","dark:text-white-200","hover-hover:hover:bg-steel-active-light","hover-hover:dark:hover:bg-steel-active-dark","hover-hover:focus:bg-steel-active-light","hover-hover:dark:focus:bg-steel-active-dark","hover-hover:active:bg-steel-active-light","hover-hover:dark:active:bg-steel-active-dark","hover-hover:disabled:bg-steel-disabled-light","hover-hover:dark:disabled:bg-steel-disabled-dark","hover-hover:disabled:text-highway-disabled","hover-hover:dark:disabled:text-white-disabled","hover-hover:disabled:cursor-not-allowed"],attrs:{disabled:t.disabled},on:{click:t.click}},[t._t("customIcon"),t._v(" "),t.hasCustomIcon?t._e():e("OzIcon",{attrs:{size:t.iconSize,name:t.iconName}}),t._v(" "),e("div",{staticClass:"truncate"},[t._v(t._s(t.text))])],2)}),[],!1,null,null,null).exports,qt=o(56),Kt=o.n(qt),Yt=function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},Xt=function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)};const Zt=Object(n.m)("browser"),Jt=Object(n.m)("draft"),Qt=Object(n.m)("section"),te=Object(n.m)("composerModalTagInputs");let ee=class extends n.j{get section(){return this.sectionById(this.activeDraft.wall_section_id)}get sectionTitle(){var t;const e=null===(t=this.section)||void 0===t?void 0:t.title;return e||this.__("No section")}get postSectionButtonDescription(){var t;const e=null===(t=this.section)||void 0===t?void 0:t.title;return e?this.__("The current post section is %{sectionTitle}.",{sectionTitle:e}):this.__("This post has no section assigned.")}get locationName(){return this.activeDraft.location_name||this.__("No location")}get postLocationButtonDescription(){const t=this.activeDraft.location_name;return t?this.__("The current post location is %{location}.",{location:t}):this.__("This post has no location assigned.")}get isLightColorScheme(){return"light"===this.colorScheme}get postColorName(){return Object(_t.k)({postColor:this.activeDraft.color,isLightColorScheme:this.isLightColorScheme})}get postColorClasses(){return[Object(_t.m)({postColor:this.activeDraft.color,isLightColorScheme:this.isLightColorScheme}),Object(_t.n)({postColor:this.activeDraft.color,isLightColorScheme:this.isLightColorScheme}),...Object(_t.p)({isLightColorScheme:this.isLightColorScheme})]}get postLocationButtonDescriptionId(){return"post-location-button-description-"+Kt()("postLocationButton")}get postColorButtonDescriptionId(){return"post-color-button-description-"+Kt()("postColorButton")}get postSectionButtonDescriptionId(){return"post-section-button-description-"+Kt()("postSectionButton")}updateInputChipPostions(){this.$nextTick(()=>{const t=this.$refs.sectionChip?{top:this.$refs.sectionChip.$el.getBoundingClientRect().top,left:this.$refs.sectionChip.$el.getBoundingClientRect().left,width:this.$refs.sectionChip.$el.getBoundingClientRect().width}:{top:0,left:0,width:0},e=this.$refs.locationChip?{top:this.$refs.locationChip.$el.getBoundingClientRect().top,left:this.$refs.locationChip.$el.getBoundingClientRect().left,width:this.$refs.locationChip.$el.getBoundingClientRect().width}:{top:0,left:0,width:0},o=this.$refs.postColorChip?{top:this.$refs.postColorChip.$el.getBoundingClientRect().top,left:this.$refs.postColorChip.$el.getBoundingClientRect().left,width:this.$refs.postColorChip.$el.getBoundingClientRect().width}:{top:0,left:0,width:0};this.updatePopoverAnchorPositions({sectionChipPosition:t,locationChipPosition:e,postColorChipPosition:o})})}onVisualViewportHeightChange(){setTimeout(()=>this.updateInputChipPostions(),200)}openInput(t){this.updateInputChipPostions(),this.openPopover({inputType:t})}mounted(){this.updateInputChipPostions(),m.a.addEventListener("resize",this.updateInputChipPostions),m.a.addEventListener("scroll",this.updateInputChipPostions)}beforeDestroy(){m.a.removeEventListener("resize",this.updateInputChipPostions),m.a.removeEventListener("scroll",this.updateInputChipPostions)}};Yt([n.d,Xt("design:type",Boolean)],ee.prototype,"isShelf",void 0),Yt([n.d,Xt("design:type",Boolean)],ee.prototype,"isMap",void 0),Yt([n.d,Xt("design:type",Boolean)],ee.prototype,"isSectionable",void 0),Yt([n.d,Xt("design:type",Boolean)],ee.prototype,"canUseSections",void 0),Yt([n.d,Xt("design:type",String)],ee.prototype,"colorScheme",void 0),Yt([Jt.Getter,Xt("design:type",Object)],ee.prototype,"activeDraft",void 0),Yt([Qt.Getter,Xt("design:type",Function)],ee.prototype,"sectionById",void 0),Yt([Zt.Getter,Xt("design:type",Number)],ee.prototype,"visualViewportHeight",void 0),Yt([te.Action,Xt("design:type",Function)],ee.prototype,"updatePopoverAnchorPositions",void 0),Yt([te.Action,Xt("design:type",Function)],ee.prototype,"openPopover",void 0),Yt([Object(n.k)("visualViewportHeight"),Xt("design:type",Function),Xt("design:paramtypes",[]),Xt("design:returntype",void 0)],ee.prototype,"onVisualViewportHeightChange",null),ee=Yt([Object(n.b)({components:{InputChip:Wt}})],ee);var oe=ee,ie=Object(p.a)(oe,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{class:["px-4","flex","space-x-4 rtl:space-x-reverse","bg-modal-top-light","dark:bg-modal-top-dark","md:bg-transparent"]},[t.isShelf||t.canUseSections&&t.isSectionable?[e("input-chip",{ref:"sectionChip",staticClass:"flex-shrink min-w-0",attrs:{"icon-name":"section",text:t.sectionTitle,title:t.__("Open post section selection dialog"),"aria-label":t.__("Open post section selection dialog"),"aria-describedby":t.postSectionButtonDescriptionId,"data-cy":"surfacePostComposerModalSectionInputChip"},on:{click:function(e){return t.openInput("section")}}}),t._v(" "),e("p",{staticClass:"sr-only",attrs:{id:t.postSectionButtonDescriptionId}},[t._v("\n      "+t._s(t.postSectionButtonDescription)+"\n    ")])]:t._e(),t._v(" "),t.isMap?[e("input-chip",{ref:"locationChip",staticClass:"flex-shrink min-w-0",attrs:{"icon-name":"location_marker",text:t.locationName,title:t.__("Open post location selection dialog"),"aria-label":t.__("Open post location selection dialog"),"aria-describedby":t.postLocationButtonDescriptionId},on:{click:function(e){return t.openInput("location")}}}),t._v(" "),e("p",{staticClass:"sr-only",attrs:{id:t.postLocationButtonDescriptionId}},[t._v("\n      "+t._s(t.postLocationButtonDescription)+"\n    ")])]:t._e(),t._v(" "),e("input-chip",{ref:"postColorChip",staticClass:"flex-shrink-0 capitalize group",attrs:{text:t.postColorName,title:t.__("Open post color selection dialog"),"aria-label":t.__("Open post color selection dialog"),"aria-describedby":t.postColorButtonDescriptionId},on:{click:function(e){return t.openInput("postColor")}},scopedSlots:t._u([{key:"customIcon",fn:function(){return[e("div",{class:["h-4","w-4","rounded-xl","bg-clip-padding",t.postColorClasses]})]},proxy:!0}])}),t._v(" "),e("p",{staticClass:"sr-only",attrs:{id:t.postColorButtonDescriptionId}},[t._v("\n    "+t._s(t.__("The current post color is %{postColor}.",{postColor:t.postColorName}))+"\n  ")])],2)}),[],!1,null,null,null).exports,ne=o(11),re=o(2),ae=o(69),se=(o(1731),o(1160),function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a});let le=class extends n.j{constructor(){super(...arguments),this.toolbarElement=null,this.editorElement=null,this.toolbarInputFocused=!1,this.textLinkValue="",this.invalidUrlMessage=Object(re.b)("Please enter a valid URL.")}get isToolbarFloating(){return!0}get toolbarId(){return Kt()("trixtoolbar")}repositionTrixToolbar(){var t,e,o,i;const n=this.$refs.editor.editor;if(null==n)return void this.toolbarElement.hide();if(null==n.getSelectedRange)return;const r=n.getSelectedRange();if(r[0]===r[1])return void this.toolbarElement.hide();const a=n.getClientRectAtPosition(r[0]),s=n.getClientRectAtPosition(r[1])||a;if(void 0===a||void 0===s)return;const l=a.top,c=Math.min(a.left,s.left),d=s.top,p=Math.max(a.left,s.left),u=Object(ae.a)(null===(t=this.$parent)||void 0===t?void 0:t.$el),h={preventDefault:!0,pageX:l!==d?(null!==(o=null===(e=u.offset())||void 0===e?void 0:e.left)&&void 0!==o?o:0)+(null!==(i=u.width())&&void 0!==i?i:0)/2:(c+p)/2,pageY:Math.max(l-10,0)};ne.a.android?this.toolbarElement.show().position({my:"center bottom",at:"center bottom",of:Object(ae.a)(document),collision:"fit flip"}):this.toolbarElement.show().position({my:"center bottom",at:"center top",of:h,collision:"fit flip"})}addCustomButtonsToToolbar(){const t=this.toolbarElement[0];let e='<button type="button" class="trix-button trix-button--icon trix-button--icon-mark" data-trix-attribute="mark" title="Highlight">Highlight</button>';e+='<button type="button" class="trix-button trix-button--icon trix-button--icon-sup" data-trix-attribute="sup" title="Superscript">Superscript</button>',e+='<button type="button" class="trix-button trix-button--icon trix-button--icon-sub" data-trix-attribute="sub" title="Subscript">Subscript</button>';const o=t.querySelector(".trix-button-group--text-tools");o.insertAdjacentHTML("beforeend",e),o.insertAdjacentHTML("afterend",'<div class="trix-toolbar-custom-separator" />'),e='<button type="button" class="trix-button trix-button--icon trix-button--icon-math" data-trix-attribute="math" title="Math">Math</button>';t.querySelector('button[data-trix-attribute="code"]').insertAdjacentHTML("afterend",e),t.classList.add("is-customized"),this.dir&&t.setAttribute("dir",this.dir)}showTrixToolbar(){this.toolbarElement.show()}hideTrixToolbar(){this.toolbarElement.hide()}beforeMount(){const t=this.isToolbarFloating?"toolbar-floating":"toolbar-fixed",e=document.body;this.toolbarElement=Object(ae.a)(`<trix-toolbar class="${t}" id="${this.toolbarId}"></trix-toolbar>`).appendTo(e)}mounted(){const t=this.toolbarElement;this.editorElement=this.$refs.editor;const e=t.find("input");t.on("click",(function(t){t.stopPropagation()})),setTimeout(()=>{this.addCustomButtonsToToolbar();Object(ae.a)('<button class="trix-back-button icon-button" title="Back to formatting menu" style="font-size: 20px;">back</button>').prependTo(t.find(".trix-dialog__link-fields")).on("click",()=>{const e=t.find("[data-trix-action=link]")[0],o=new CustomEvent("mousedown",{bubbles:!0,cancelable:!0});e.dispatchEvent(o)})},0),e.on("focus",()=>{const t=this.editorElement.editor;if(this.toolbarInputFocused=!0,!this.textLinkValue){const e=t.getDocument().toString(),o=t.getSelectedRange(),i=e.substring(o[0],o[1]);if(Object(E.f)(i))this.textLinkValue=i;else{const t="http://"+i;Object(E.f)(t)&&(this.textLinkValue=t)}}}),e.on("blur",()=>{this.toolbarInputFocused=!1}),e.on("invalid",e=>{const o=e.target.value||this.textLinkValue;if(0===o.indexOf("http://")||0===o.indexOf("https://"))alert(this.invalidUrlMessage);else{const i="https://"+o;Object(E.f)(i)?this.$nextTick(()=>{this.textLinkValue=i,e.target.value=i,t.find("input[data-trix-method=setAttribute]").click()}):alert(this.invalidUrlMessage)}})}beforeDestroy(){var t;null===(t=this.toolbarElement)||void 0===t||t.remove()}};le=se([Object(n.b)({})],le);var ce=le,de=function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},pe=function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)};const ue=Object(n.m)("draft"),he=Object(n.m)("browser"),ge=Object(n.m)("composerModal"),fe=Object(n.m)("composerModalAlert"),me=Object(n.m)("dragAndDropEvents");let ve=class extends n.j{constructor(){super(...arguments),this.bodyFocused=!1,this.isLastActionAttachment=!1,this.subjectAttachmentLink=null,this.firstSubjectUndoOccurred=!1,this.unsubscribeTinyKeys=()=>{},this.isAttachmentLoaded=!1}get isAttachmentGridInBottom(){return!this.isLargeUi&&!this.isPageHandlingDragEvent}get xSubjectInput(){return!0}get subjectText(){var t;return(null===(t=this.activeDraft)||void 0===t?void 0:t.subject)||""}get bodyText(){var t;return(null===(t=this.activeDraft)||void 0===t?void 0:t.body)||""}get attachmentUrl(){var t;return(null===(t=this.activeDraft)||void 0===t?void 0:t.attachment)||""}get attachmentCaption(){var t;return null===(t=this.activeDraft)||void 0===t?void 0:t.attachment_caption}get bodyTextPlaceholder(){const t=[this.__("Write something beautiful..."),this.__("Write something fantastic..."),this.__("Write something incredible...")];return t[Math.floor(Math.random()*t.length)]}get isOnScreenKeyboardShowing(){return Math.round(this.visualViewportHeight*this.visualViewportScale)<this.windowHeight}get isShowingTextFormatToolbarInBottom(){return!this.isToolbarFloating&&(this.bodyFocused||this.toolbarInputFocused)}handlePastedFiles(t){var e,o;if(t.length>1)return void this.openAlert({title:this.__("Multiple files pasted"),body:this.__("While writing a post, only one file can be pasted in at a time."),primaryActionText:this.__("Okay"),primaryActions:[]});const i=t[0];if((null===(e=this.activeDraft)||void 0===e?void 0:e.attachment)||this.activeDraftUploadingFile){const t=(null===(o=this.activeDraft)||void 0===o?void 0:o.attachment)?[{type:"draft/removeDraftAttachment",payload:{postCid:this.activeDraft.cid}},{type:"draft/uploadFileActiveDraft",payload:{file:i}}]:[{type:"draft/replaceActiveDraftUploadingFile",payload:{file:i}}];this.openAlert({title:this.__("An attachment already exists"),body:this.__("Are you sure you want to replace your current attachment?"),primaryActionText:this.__("Replace"),secondaryActionText:this.__("Cancel"),secondaryActions:[],primaryActions:t})}else this.uploadFileActiveDraft({file:i})}handlePastedLink(t,e){var o;if((null===(o=this.activeDraft)||void 0===o?void 0:o.attachment)||this.activeDraftUploadingFile)return;this.isLastActionAttachment=!0;"subject"===e.currentTarget.dataset.element&&(this.firstSubjectUndoOccurred=!1,this.subjectAttachmentLink=t,e.preventDefault()),this.updateActiveDraft({attachment:t,wish_content:{attachment_props:{url:t},is_processed:!1}})}handleOnPaste(t){var e,o,i,n,r,a;const s=null===(e=t.clipboardData)||void 0===e?void 0:e.getData("text/plain");if(s&&Object(E.f)(s))return void this.handlePastedLink(s,t);if((null===(i=null===(o=t.clipboardData)||void 0===o?void 0:o.types)||void 0===i?void 0:i.includes("text/rtf"))&&(null===(r=null===(n=t.clipboardData)||void 0===n?void 0:n.types)||void 0===r?void 0:r.includes("Files")))return;const l=null===(a=t.clipboardData)||void 0===a?void 0:a.files;!l||l.length<1||(t.preventDefault(),this.handlePastedFiles(l))}respondToVisualViewportHeightChange(){this.checkScrollPosition(),this.setFormattingToolbarPosition()}respondToAttachmentLoadedOrRemoved(){this.checkScrollPosition()}respondToAttachmentUrlChange(t){t||(this.isAttachmentLoaded=!1)}respondToFormatToolbarInputFocused(){this.isShowingTextFormatToolbarInBottom&&setTimeout(()=>{this.setFormattingToolbarPosition()},200)}get isToolbarFloating(){return!this.isMobile}onSubjectChange(t){this.$emit("subject-change",t)}handleSubjectChangeIfNotAttachmentPaste(t){this.isLastActionAttachment||this.onSubjectChange(t)}focusBodyEditor(){this.$refs.editor.focus()}focusSubjectEditor(){this.$nextTick(()=>{setTimeout(()=>{this.$refs.subject.$refs.inputElement.focus()})})}focusEditor(){this.subjectText&&!this.bodyText?this.focusBodyEditor():this.focusSubjectEditor()}onSubjectFocus(){this.hideTrixToolbar()}onBodyChange(t){const e=t.replace(/<span style="background-color: highlight;">(.*?)<\/span>/g,"$1");this.$emit("body-change",e)}onBodyBlur(){this.toolbarInputFocused||this.hideTrixToolbar(),this.bodyFocused=!1}onBodySelectionChange(){this.isToolbarFloating&&this.repositionTrixToolbar()}onBodyFileAccept(t){t.preventDefault()}checkScrollPosition(){this.$refs.postContentEditor&&this.$nextTick(()=>{const t=this.$refs.postContentEditor.scrollTop<1,e=this.$refs.postContentEditor.scrollHeight-this.$refs.postContentEditor.scrollTop-this.$refs.postContentEditor.clientHeight<4;this.updateScrollPosition({scrolledToTop:t,scrolledToBottom:e})})}scrollToTop(){this.$refs.postContentEditor.scroll(0,0)}scrollToBottom(){this.$refs.postContentEditor.scroll(0,this.$refs.postContentEditor.scrollHeight)}scrollTillPositionVisible(t){(this.$refs.postContentEditor.scrollTop>=t-20||this.$refs.postContentEditor.scrollTop+this.$refs.postContentEditor.clientHeight<=t+20)&&this.$refs.postContentEditor.scrollTo(0,t)}onAttachmentCaptionEditStart(){if(this.isTouchable){const t=()=>{this.$nextTick(()=>setTimeout(()=>{const t=this.$refs.attachmentPreview.$refs.caption.$el.offsetTop;this.scrollTillPositionVisible(t)}))};if(Object(I.a)("visualViewport")&&!this.isOnScreenKeyboardShowing){const e=this.$watch("visualViewportHeight",()=>{t(),e()})}else t()}}onBodyEditStart(){if(this.bodyFocused=!0,this.isToolbarFloating||(this.showTrixToolbar(),this.setFormattingToolbarPosition()),this.isTouchable){const t=()=>{this.$nextTick(()=>setTimeout(()=>{var t,e;const o=null===(t=this.$refs.editor.editor)||void 0===t?void 0:t.getSelectedRange();if(!o)return;const i=null===(e=this.$refs.editor.editor)||void 0===e?void 0:e.getClientRectAtPosition(o[0]);if(!i||!i.top)return;const n=i.top-this.$refs.postContentEditor.getBoundingClientRect().top+this.$refs.postContentEditor.scrollTop-20;this.scrollTillPositionVisible(n)}))};if(Object(I.a)("visualViewport")&&!this.isOnScreenKeyboardShowing){const e=this.$watch("visualViewportHeight",()=>{t(),e()})}else t()}}setFormattingToolbarPosition(){this.isToolbarFloating||this.$nextTick(()=>{setTimeout(()=>{const t=this.isOnScreenKeyboardShowing?m.a.innerHeight-this.visualViewportHeight:0,e=document.getElementById(this.toolbarId);e&&(e.style.bottom=t+"px")})})}get xAttachmentPreview(){return""!==this.attachmentUrl&&!this.isPageHandlingDragEvent}get shouldShowAttachmentOnTheSide(){return this.isMobile&&this.visualViewportWidth>this.visualViewportHeight&&this.visualViewportWidth>=1024}resetAttachmentAndLinkTrackers(){this.isLastActionAttachment&&(this.isLastActionAttachment=!1,this.subjectAttachmentLink=null)}attachmentRemoved(){this.isAttachmentLoaded=!1,this.isLastActionAttachment=!1,this.subjectAttachmentLink=null}customKeyboardUndoBehavior(){this.unsubscribeTinyKeys=Object(f.a)(this.$refs.postContentEditor,{"$mod+KeyZ":()=>{var t;if(this.isLastActionAttachment){if((null===(t=this.activeDraft)||void 0===t?void 0:t.cid)&&this.removeDraftAttachment({postCid:this.activeDraft.cid}),!this.subjectAttachmentLink)return this.isLastActionAttachment=!1,void(this.subjectAttachmentLink=null);this.firstSubjectUndoOccurred?(this.onSubjectChange(this.subjectText.replace(this.subjectAttachmentLink,"")),this.firstSubjectUndoOccurred=!1,this.isLastActionAttachment=!1,this.subjectAttachmentLink=null):(this.firstSubjectUndoOccurred=!0,this.onSubjectChange(this.subjectText+this.subjectAttachmentLink))}}}),this.$refs.postContentEditor.addEventListener("keydown",this.resetAttachmentAndLinkTrackers)}mounted(){this.setFormattingToolbarPosition(),this.shouldFocusAttachmentCaption?(this.$refs.attachmentPreview.focusCaptionOnLoad(),this.clearShouldFocusAttachmentCaption()):this.focusEditor(),this.checkScrollPosition(),this.customKeyboardUndoBehavior()}beforeDestroy(){this.unsubscribeTinyKeys(),this.$refs.postContentEditor.removeEventListener("keydown",this.resetAttachmentAndLinkTrackers),this.hideTrixToolbar()}};de([Object(n.h)({required:!0}),pe("design:type",Boolean)],ve.prototype,"isDocked",void 0),de([Object(n.h)({required:!0}),pe("design:type",Boolean)],ve.prototype,"isLargeUi",void 0),de([n.i,pe("design:type",Boolean)],ve.prototype,"isMobile",void 0),de([n.i,pe("design:type",Boolean)],ve.prototype,"isTouchable",void 0),de([n.i,pe("design:type",Boolean)],ve.prototype,"isMac",void 0),de([n.i,pe("design:type",Boolean)],ve.prototype,"isIOS",void 0),de([n.d,pe("design:type",String)],ve.prototype,"dir",void 0),de([he.Getter,pe("design:type",Number)],ve.prototype,"windowWidth",void 0),de([he.Getter,pe("design:type",Number)],ve.prototype,"windowHeight",void 0),de([he.Getter,pe("design:type",Number)],ve.prototype,"visualViewportWidth",void 0),de([he.Getter,pe("design:type",Number)],ve.prototype,"visualViewportHeight",void 0),de([he.Getter,pe("design:type",Number)],ve.prototype,"visualViewportScale",void 0),de([he.Getter("isPhone"),pe("design:type",Boolean)],ve.prototype,"isScreenSizePhone",void 0),de([ue.Getter,pe("design:type",Object)],ve.prototype,"activeDraft",void 0),de([ue.Getter,pe("design:type",Object)],ve.prototype,"activeDraftUploadingFile",void 0),de([ge.Getter,pe("design:type",Boolean)],ve.prototype,"shouldFocusAttachmentCaption",void 0),de([ge.Getter,pe("design:type",Boolean)],ve.prototype,"xRequiresApprovalBanner",void 0),de([me.Getter("isHandlingDragEvent"),pe("design:type",Boolean)],ve.prototype,"isPageHandlingDragEvent",void 0),de([ue.Action,pe("design:type",Function)],ve.prototype,"uploadFileActiveDraft",void 0),de([ue.Action,pe("design:type",Function)],ve.prototype,"updateActiveDraft",void 0),de([ue.Action,pe("design:type",Function)],ve.prototype,"removeDraftAttachment",void 0),de([ge.Action,pe("design:type",Function)],ve.prototype,"updateScrollPosition",void 0),de([ge.Action,pe("design:type",Function)],ve.prototype,"clearShouldFocusAttachmentCaption",void 0),de([fe.Action,pe("design:type",Function)],ve.prototype,"openAlert",void 0),de([Object(n.k)("visualViewportHeight"),pe("design:type",Function),pe("design:paramtypes",[]),pe("design:returntype",void 0)],ve.prototype,"respondToVisualViewportHeightChange",null),de([Object(n.k)("isAttachmentLoaded"),pe("design:type",Function),pe("design:paramtypes",[]),pe("design:returntype",void 0)],ve.prototype,"respondToAttachmentLoadedOrRemoved",null),de([Object(n.k)("attachmentUrl"),pe("design:type",Function),pe("design:paramtypes",[Object]),pe("design:returntype",void 0)],ve.prototype,"respondToAttachmentUrlChange",null),de([Object(n.k)("toolbarInputFocused"),pe("design:type",Function),pe("design:paramtypes",[]),pe("design:returntype",void 0)],ve.prototype,"respondToFormatToolbarInputFocused",null),ve=de([Object(n.b)({components:{MultilineInput:F.default,RichTextEditor:H.a,SurfaceComposerModalAttachmentPreview:Nt,SurfaceComposerModalAttachmentGrid:wt,SurfaceComposerModalTags:ie},mixins:[ce]})],ve);var ye=ve,be=(o(1732),Object(p.a)(ye,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"flex flex-row flex-grow overflow-hidden",attrs:{dir:t.dir}},[e("div",{class:["md:pt-3","relative","flex","flex-col","flex-grow","overflow-hidden",t.isShowingTextFormatToolbarInBottom&&"mb-10 md:mb-0",t.isDocked?"md:w-101":"md:w-135"]},[t.xRequiresApprovalBanner&&t.isScreenSizePhone?e("div",{staticClass:"h-6 flex flex-shrink-0 items-center justify-center bg-light-ui-300 dark:bg-dark-ui-300 text-dark-text-200 dark:text-light-text-200 text-12-16"},[t._v("\n      "+t._s(t.__("Requires approval"))+"\n    ")]):t._e(),t._v(" "),e("div",{ref:"postContentEditor",class:["px-4","mt-4","md:mt-0",t.isAttachmentLoaded?"mb-4":"mb-16","md:mb-4","flex","flex-col","flex-grow","overflow-y-auto","overflow-x-hidden","scrollbar-regular","dark:scrollbar-regular-dark"],attrs:{"data-element":"postContent"},on:{scroll:t.checkScrollPosition}},[e("div",{staticClass:"mx-2"},[t.xSubjectInput?e("multiline-input",{ref:"subject",class:["text-xl","mb-0","font-semibold","font-sans","text-dark-text-100","dark:text-light-text-100","placeholder-dark-text-400","dark:placeholder-light-text-300","flex-shrink-0"],attrs:{dir:"auto","data-element":"subject",value:t.subjectText,placeholder:t.__("Subject"),title:t.__("Post subject"),"aria-label":t.__("Post subject"),ondragstart:"return false;"},on:{input:t.handleSubjectChangeIfNotAttachmentPaste,enter:t.focusBodyEditor,"arrow-down-on-last-line":t.focusBodyEditor,focus:t.onSubjectFocus,paste:t.handleOnPaste}}):t._e()],1),t._v(" "),t.xAttachmentPreview&&!t.shouldShowAttachmentOnTheSide?e("surface-composer-modal-attachment-preview",{ref:"attachmentPreview",staticClass:"flex-shrink-0",attrs:{url:t.attachmentUrl,caption:t.attachmentCaption,"is-modal-docked":t.isDocked,"is-shown-on-side":!1},on:{load:function(e){t.isAttachmentLoaded=!0},remove:t.attachmentRemoved,"start-attachment-caption-edit":t.onAttachmentCaptionEditStart}}):t._e(),t._v(" "),e("rich-text-editor",{ref:"editor",class:["new-post-modal-editor","text-post-modal-body","font-normal","font-sans","text-dark-text-100","dark:text-light-text-100","flex-grow","mt-4","mx-2","order-last"],attrs:{title:t.__("Post content editor"),"aria-label":t.__("Post content editor"),"toolbar-id":t.toolbarId,value:t.bodyText,placeholder:t.bodyTextPlaceholder,dir:t.dir,"data-cy":"surfacePostComposerEditorContentInput",ondragstart:"return false;"},on:{input:t.onBodyChange,blur:t.onBodyBlur,selectionchange:t.onBodySelectionChange,fileaccept:t.onBodyFileAccept,"arrow-up-on-first-line":t.focusSubjectEditor,paste:t.handleOnPaste,focus:t.onBodyEditStart}}),t._v(" "),!t.isAttachmentLoaded||t.isPageHandlingDragEvent?e("surface-composer-modal-attachment-grid",{staticClass:"mt-4 post-modal-attachment-grid",class:[t.isAttachmentGridInBottom?["absolute","-bottom-5","self-center"]:[]],attrs:{"is-docked":t.isDocked,"is-page-handling-drag-event":t.isPageHandlingDragEvent,"is-large-ui":t.isLargeUi},on:{"close-content-picker":t.focusEditor}}):t._e()],1),t._v(" "),e("surface-composer-modal-tags",{class:["flex-shrink-0","order-first","md:order-none","pb-2",t.isAttachmentGridInBottom&&!t.isAttachmentLoaded?"md:pb-16":"md:pb-4"],attrs:{dir:t.dir}})],1),t._v(" "),t.xAttachmentPreview&&t.shouldShowAttachmentOnTheSide?e("div",{class:[t.isAttachmentLoaded?"w-64 px-4":"px-0","overflow-y-auto","flex-shrink-0"]},[e("surface-composer-modal-attachment-preview",{ref:"attachmentPreview",staticClass:"flex-shrink-0",attrs:{url:t.attachmentUrl,caption:t.attachmentCaption,"is-modal-docked":t.isDocked,"is-shown-on-side":!0},on:{load:function(e){t.isAttachmentLoaded=!0},remove:t.attachmentRemoved,"start-attachment-caption-edit":t.onAttachmentCaptionEditStart}})],1):t._e()])}),[],!1,null,"61bad384",null).exports),xe=o(68),ke=function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},Se=function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)};const we=Object(n.m)("browser"),_e=Object(n.m)("draft"),Oe=Object(n.m)("composerModal");let Ce=class extends n.j{constructor(){super(...arguments),this.OzTextButtonColorScheme=Ot.OzTextButtonColorScheme,this.OzContainedButtonColorScheme=_.a,this.OzIconButtonColorScheme=g.a}get xDockButton(){return this.canDock&&!this.isDocked}get xExpandButton(){return this.canDock&&this.isDocked}get xMinimizeButton(){return this.canMinimize&&!this.isSmallerThanTabletLandscape}get sendPostButtonTexts(){return this.canIPostWithoutWaitingForApproval?this.activeDraft&&Object(xe.m)(this.activeDraft)?{text:this.__("Publish"),label:this.__("Publish post")}:{text:this.__("Update"),label:this.__("Update post")}:{text:this.__("Submit"),label:this.__("Submit post")}}get shouldAutoPublish(){var t;return!!(null===(t=this.activeDraft)||void 0===t?void 0:t.shouldAutoPublish)}close(){this.$emit("close")}dock(){this.$emit("dock")}expand(){this.$emit("expand")}minimize(){this.$emit("minimize")}save(){this.$emit("save")}onApprovalInfoClick(){this.xRequiresApprovalBanner?this.hideRequiresApprovalBanner():this.showRequiresApprovalBanner()}};ke([Object(n.h)({required:!0}),Se("design:type",Boolean)],Ce.prototype,"isDocked",void 0),ke([Object(n.h)({required:!0}),Se("design:type",Boolean)],Ce.prototype,"disableSave",void 0),ke([Object(n.h)({required:!0}),Se("design:type",Boolean)],Ce.prototype,"canDock",void 0),ke([Object(n.h)({required:!0}),Se("design:type",Boolean)],Ce.prototype,"canMinimize",void 0),ke([Object(n.h)({required:!0}),Se("design:type",Boolean)],Ce.prototype,"isLargeUi",void 0),ke([n.d,Se("design:type",Boolean)],Ce.prototype,"canIPostWithoutWaitingForApproval",void 0),ke([n.d,Se("design:type",Boolean)],Ce.prototype,"isDesktop",void 0),ke([we.State,Se("design:type",Boolean)],Ce.prototype,"darkMode",void 0),ke([we.Getter,Se("design:type",Boolean)],Ce.prototype,"isPhone",void 0),ke([we.Getter,Se("design:type",Boolean)],Ce.prototype,"isSmallerThanTabletLandscape",void 0),ke([_e.Getter,Se("design:type",Object)],Ce.prototype,"activeDraft",void 0),ke([Oe.Getter,Se("design:type",Boolean)],Ce.prototype,"xRequiresApprovalBanner",void 0),ke([Oe.Action,Se("design:type",Function)],Ce.prototype,"showRequiresApprovalBanner",void 0),ke([Oe.Action,Se("design:type",Function)],Ce.prototype,"hideRequiresApprovalBanner",void 0),Ce=ke([Object(n.b)({components:{OzContainedButton:_.d,OzIcon:Lt.default,OzIconButton:g.d,OzTextButton:Ot.default}})],Ce);var Pe=Ce,De=Object(p.a)(Pe,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{class:["bg-modal-top-light","dark:bg-modal-top-dark","md:bg-transparent","flex","justify-between","pt-1",!t.isPhone&&"pb-1","px-2.5","md:pt-4","md:pb-3","md:px-4","flex-shrink-0",t.darkMode&&"dark-mode"]},[e("div",{class:[!t.isPhone&&"flex space-x-2 rtl:space-x-reverse","flex-shrink-0"]},[t.isPhone?[e("OzTextButton",{key:"composer-modal-mobile-close",staticClass:"h-10 px-1.5 py-0 font-semibold text-17",attrs:{"color-scheme":t.OzTextButtonColorScheme.Secondary,text:t.__("Close"),"aria-label":t.__("Close post"),title:t.__("Close"),"data-cy":"composerModalCloseButton"},on:{click:function(e){return e.stopPropagation(),t.close.apply(null,arguments)}}})]:[e("OzIconButton",{key:"composer-modal-desktop-close",staticClass:"bg-light-ui-150 dark:bg-dark-ui-150 text-dark-text-200 dark:text-light-text-200 hover-hover:hover:bg-grey-200 hover-hover:dark:hover:bg-grey-600",attrs:{"data-cy":"composerModalCloseButton",label:t.__("Close post"),"color-scheme":t.OzIconButtonColorScheme.Bare,"icon-name":"close"},on:{click:function(e){return e.stopPropagation(),t.close.apply(null,arguments)}}}),t._v(" "),e("OzIconButton",{directives:[{name:"show",rawName:"v-show",value:t.xDockButton,expression:"xDockButton"}],staticClass:"bg-light-ui-150 dark:bg-dark-ui-150 text-dark-text-200 dark:text-light-text-200 hover-hover:hover:bg-grey-200 hover-hover:dark:hover:bg-grey-600",attrs:{label:t.__("Dock post"),"color-scheme":t.OzIconButtonColorScheme.Bare,"icon-name":"dock"},on:{click:function(e){return e.stopPropagation(),t.dock.apply(null,arguments)}}}),t._v(" "),e("OzIconButton",{directives:[{name:"show",rawName:"v-show",value:t.xExpandButton,expression:"xExpandButton"}],staticClass:"bg-light-ui-150 dark:bg-dark-ui-150 text-dark-text-200 dark:text-light-text-200 hover-hover:hover:bg-grey-200 hover-hover:dark:hover:bg-grey-600",attrs:{label:t.__("Expand post"),"color-scheme":t.OzIconButtonColorScheme.Bare,"icon-name":"expand"},on:{click:function(e){return e.stopPropagation(),t.expand.apply(null,arguments)}}}),t._v(" "),t.xMinimizeButton?e("OzIconButton",{staticClass:"bg-light-ui-150 dark:bg-dark-ui-150 text-dark-text-200 dark:text-light-text-200 hover-hover:hover:bg-grey-200 hover-hover:dark:hover:bg-grey-600",attrs:{label:t.__("Minimize post"),"color-scheme":t.OzIconButtonColorScheme.Bare,"icon-name":"minimize"},on:{click:function(e){return e.stopPropagation(),t.minimize.apply(null,arguments)}}}):t._e()]],2),t._v(" "),t.shouldAutoPublish?e("div",{key:"auto-publish-controls",class:["text-dark-text-200","dark:text-light-text-200","mt-1.5","text-body-extra-small","ltr:text-right","rtl:text-left","block","flex-grow-0",t.isDocked?"w-48":"w-60"]},[t._v("\n    "+t._s(t.isDocked?t.__("Will auto-publish upon upload completion."):t.__("Will auto-publish when upload completes."))+"\n    "),e("OzTextButton",{class:["h-[17px]","p-0","text-body-extra-small","font-bold",t.isDocked?"!inline-block":"mr-0 ml-auto"],attrs:{"color-scheme":t.OzTextButtonColorScheme.Primary,text:t.__("Undo auto-publish"),"aria-label":t.__("Undo post auto-publish"),title:t.__("Undo post auto-publish")},on:{click:function(e){return e.stopPropagation(),t.$emit("stop-auto-publish")}}})],1):e("div",{key:"draft-publish-controls",class:{flex:!0,"rtl:space-x-reverse":!0,"space-x-2.5":t.isPhone,"space-x-2":!t.isPhone&&t.isDocked,"space-x-4":!t.isPhone&&!t.isDocked}},[t.canIPostWithoutWaitingForApproval?t._e():[t.isPhone?e("div",{staticClass:"self-center text-dark-text-200 dark:text-light-text-200",on:{click:function(e){return e.stopPropagation(),t.onApprovalInfoClick.apply(null,arguments)}}},[e("OzIcon",{attrs:{name:t.xRequiresApprovalBanner?"info_solid":"info_outline",size:24}})],1):e("div",{staticClass:"self-center text-body-extra-small text-dark-text-200 dark:text-light-text-200"},[t._v("\n        "+t._s(t.__("Requires approval"))+"\n      ")])],t._v(" "),t.isLargeUi?e("OzContainedButton",{attrs:{"color-scheme":t.OzContainedButtonColorScheme.PrimaryPulsing,disabled:t.disableSave,text:t.sendPostButtonTexts.text,"aria-label":t.sendPostButtonTexts.label,title:t.sendPostButtonTexts.label},on:{click:function(e){return e.stopPropagation(),t.save.apply(null,arguments)}}}):e("OzTextButton",{staticClass:"px-1.5 py-0 h-10 font-semibold text-17",attrs:{"color-scheme":t.OzTextButtonColorScheme.Primary,text:t.sendPostButtonTexts.text,"aria-label":t.sendPostButtonTexts.label,title:t.sendPostButtonTexts.label,disabled:t.disableSave},on:{click:function(e){return e.stopPropagation(),t.save.apply(null,arguments)}}})],2)])}),[],!1,null,null,null).exports,Te=o(238),je=o(1734),Ae=o.n(je),Me=function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},ze=function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)};let Be=class extends n.j{constructor(){super(...arguments),this.thumbnailSrc=Ae.a}respondToAttachmentChange(t){if(t){const e={width:24,height:24};Object(Te.a)(t,e).then(t=>{t&&this.$nextTick(()=>{this.thumbnailSrc=t.image_url.startsWith("data:")?Ae.a:t.image_url})})}else this.thumbnailSrc=Ae.a}};Me([Object(n.h)({required:!0}),ze("design:type",String)],Be.prototype,"attachmentUrl",void 0),Me([Object(n.h)({default:24}),ze("design:type",Number)],Be.prototype,"width",void 0),Me([Object(n.h)({default:24}),ze("design:type",Number)],Be.prototype,"height",void 0),Me([Object(n.h)(),ze("design:type",String)],Be.prototype,"altText",void 0),Me([Object(n.k)("attachmentUrl",{immediate:!0}),ze("design:type",Function),ze("design:paramtypes",[Object]),ze("design:returntype",void 0)],Be.prototype,"respondToAttachmentChange",null),Be=Me([Object(n.b)({})],Be);var Re=Be,Ie=Object(p.a)(Re,(function(){var t=this._self._c;this._self._setupProxy;return t("img",{staticClass:"rounded-md",attrs:{width:this.width,height:this.height,src:this.thumbnailSrc,alt:this.altText}})}),[],!1,null,null,null).exports,Ee=o(64),Fe=o(58),He=function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},Ne=function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)};const Le=Object(n.m)("composerModalTagInputs"),$e=Object(n.m)("section");let Ue=class extends n.j{constructor(){super(...arguments),this.sectionTitle="",this.isTitleTooShort=!1,this.isTitleTooLong=!1,this.OzContainedButtonColorScheme=_.a}get validationMessage(){return this.isTitleTooShort?Object(re.b)("Must be at least %{min} characters long",{min:Ee.h}):this.isTitleTooLong?Object(re.b)("Must be at most %{max} characters long",{max:Ee.f}):""}cancel(){this.closeNewSectionPrompt()}validateSectionTitle(){const t=this.sectionTitle.trim();return this.isTitleTooShort=t.length<Ee.h,this.isTitleTooLong=t.length>Ee.f,{trimmedTitle:t}}createNewSection(){const{trimmedTitle:t}=this.validateSectionTitle();this.isTitleTooShort||this.isTitleTooLong||(this.saveNewSectionToDraft({title:t}),this.closeNewSectionPrompt())}mounted(){this.$refs.sectionTitleInput.focusInput()}};He([n.d,Ne("design:type",String)],Ue.prototype,"dir",void 0),He([n.d,Ne("design:type",Boolean)],Ue.prototype,"isUsingNewSurfaceShadows",void 0),He([Le.Action,Ne("design:type",Function)],Ue.prototype,"closeNewSectionPrompt",void 0),He([$e.Action,Ne("design:type",Function)],Ue.prototype,"saveNewSectionToDraft",void 0),He([Object(n.k)("sectionTitle",{immediate:!0}),Ne("design:type",Function),Ne("design:paramtypes",[]),Ne("design:returntype",void 0)],Ue.prototype,"validateSectionTitle",null),Ue=He([Object(n.b)({components:{OzContainedButton:_.d,OzInput:Fe.b,SurfaceComposerModalPrompt:T}})],Ue);var Ge=Ue,Ve=Object(p.a)(Ge,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("surface-composer-modal-prompt",{attrs:{"x-new-surface-shadows":t.isUsingNewSurfaceShadows},on:{cancel:function(e){return t.$emit("cancel")}},scopedSlots:t._u([{key:"body",fn:function(){return[e("div",{staticClass:"px-4"},[e("div",{staticClass:"py-5 font-sans text-heading-3 font-semibold text-dark-text-100 dark:text-light-text-100"},[t._v("\n        "+t._s(t.__("New section"))+"\n      ")]),t._v(" "),e("OzInput",{ref:"sectionTitleInput",attrs:{placeholder:t.__("Section title"),valid:t.isTitleTooShort||t.isTitleTooLong?"no":"yes","validation-message":t.validationMessage,type:"text",dir:t.dir},model:{value:t.sectionTitle,callback:function(e){t.sectionTitle=e},expression:"sectionTitle"}}),t._v(" "),e("div",{staticClass:"pb-4 pt-7 flex flex-row space-x-3.5 rtl:space-x-reverse"},[e("OzContainedButton",{staticClass:"flex-grow",attrs:{"color-scheme":t.OzContainedButtonColorScheme.Secondary,text:t.__("Cancel")},on:{click:t.cancel}}),t._v(" "),e("OzContainedButton",{staticClass:"flex-grow",attrs:{text:t.__("Create"),disabled:t.isTitleTooShort||t.isTitleTooLong},on:{click:t.createNewSection}})],1)],1)]},proxy:!0}])})}),[],!1,null,null,null).exports,We=o(73),qe=o(530),Ke=function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},Ye=function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)};const Xe=Object(n.m)("browser"),Ze=Object(n.m)("draft");let Je=class extends n.j{constructor(){super(...arguments),this.OzMenuRowsFocusStyle=We.a,this.OzMenuRowsSizePreset=We.d}get postColors(){return _t.l}get postColorRows(){return this.postColors.map(t=>({postColor:t,text:this.postColorName(t),rowStyle:We.c.Default,rightIcon:this.getIsPostColorSelected(t)?"checkmark_thicker":null,rightIconSize:20,rightIconHighlighted:!0,eventPayload:t,ariaChecked:String(this.getIsPostColorSelected(t))}))}get isLightColorScheme(){return"light"===this.colorScheme}getIsPostColorSelected(t){return(t||"default")===(this.activeDraft.color||"default")}postColorName(t){return Object(_t.k)({postColor:t,isLightColorScheme:this.isLightColorScheme})}postColorClasses(t){return[Object(_t.m)({postColor:t,isLightColorScheme:this.isLightColorScheme}),Object(_t.n)({postColor:t,isLightColorScheme:this.isLightColorScheme}),...Object(_t.p)({isLightColorScheme:this.isLightColorScheme})]}changeColor(t,e){this.updateActiveDraft({color:e}),this.cancel()}cancel(){this.$emit("cancel")}};Ke([Object(n.h)({required:!0}),Ye("design:type",Object)],Je.prototype,"popoverAnchor",void 0),Ke([n.d,Ye("design:type",String)],Je.prototype,"colorScheme",void 0),Ke([n.d,Ye("design:type",String)],Je.prototype,"dir",void 0),Ke([Xe.Getter,Ye("design:type",Boolean)],Je.prototype,"isPhone",void 0),Ke([Xe.Getter,Ye("design:type",Number)],Je.prototype,"windowHeight",void 0),Ke([Ze.Getter,Ye("design:type",Object)],Je.prototype,"activeDraft",void 0),Ke([Ze.Action,Ye("design:type",Function)],Je.prototype,"updateActiveDraft",void 0),Je=Ke([Object(n.b)({components:{OzMenuRows:We.e,OzScreenSizeAwarePopoverModal:qe.a}})],Je);var Qe=Je,to=Object(p.a)(Qe,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("OzScreenSizeAwarePopoverModal",{attrs:{role:"dialog","aria-label":t.__("Post color selection dialog"),"is-phone":t.isPhone,"box-classes":["shadow-elevation-3"],"popover-anchor":t.popoverAnchor,"is-draggable-drawer":!0,"disable-drag":!0,"position-mode":"manual","preferred-tray-start-height":420,"should-full-size-cover-screen":!0,"window-height":t.windowHeight,dir:t.dir},on:{"scrim-click":t.cancel,"scrim-esc":t.cancel},scopedSlots:t._u([{key:"header",fn:function(){return[e("h2",{class:["pt-4","pb-3","px-4","md:pt-3","md:pb-2","md:px-3","text-center","text-heading-3","md:text-heading-4","font-semibold","truncate","text-dark-text-100","dark:text-light-text-100"]},[t._v("\n      "+t._s(t.__("Color"))+"\n    ")])]},proxy:!0},{key:"body",fn:function(){return[e("OzMenuRows",{staticClass:"mb-4 overflow-auto",attrs:{"accessibility-role":"menu","aria-label":t.__("Post colors"),"focus-style":t.OzMenuRowsFocusStyle.Bubble200,"size-preset":t.OzMenuRowsSizePreset.H44px,rows:t.postColorRows,"common-settings":{role:"menuitemradio"}},on:{"select-row":t.changeColor},scopedSlots:t._u([{key:"startAdornment",fn:function({row:o}){return[e("div",{class:["h-5","w-5","me-4","rounded-xl","bg-clip-padding","box-border",...t.postColorClasses(o.postColor)]})]}}])})]},proxy:!0}])})}),[],!1,null,null,null).exports,eo=function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},oo=function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)};const io=Object(n.m)("browser"),no=Object(n.m)("section"),ro=Object(n.m)("draft"),ao=Object(n.m)("post"),so=Object(n.m)("composerModalTagInputs");let lo=class extends n.j{constructor(){super(...arguments),this.OzMenuRowsFocusStyle=We.a,this.OzMenuRowsSizePreset=We.d,this.OzTextButtonColorScheme=Ot.OzTextButtonColorScheme}get sortedSectionsRows(){return this.sortedSections.map(t=>{const e=t.id===this.activeDraft.wall_section_id;return{text:t.title,rowStyle:We.c.Default,rightIcon:e?"checkmark_thicker":null,rightIconSize:20,rightIconHighlighted:!0,eventPayload:t.id,ariaChecked:String(e)}})}cancel(){this.$emit("cancel")}createNewSection(){this.openNewSectionPrompt(),this.cancel()}changeSection(t,e){this.updateActiveDraft({wall_section_id:e}),this.updateMostRecentlyTouchedSection(e),this.cancel()}};eo([Object(n.h)({required:!0}),oo("design:type",Object)],lo.prototype,"popoverAnchor",void 0),eo([n.d,oo("design:type",String)],lo.prototype,"dir",void 0),eo([n.d,oo("design:type",Boolean)],lo.prototype,"canIModerate",void 0),eo([io.Getter,oo("design:type",Boolean)],lo.prototype,"isPhone",void 0),eo([io.Getter,oo("design:type",Number)],lo.prototype,"windowHeight",void 0),eo([no.Getter,oo("design:type",Array)],lo.prototype,"sortedSections",void 0),eo([ro.Getter,oo("design:type",Object)],lo.prototype,"activeDraft",void 0),eo([ro.Action,oo("design:type",Function)],lo.prototype,"updateActiveDraft",void 0),eo([ao.Action,oo("design:type",Function)],lo.prototype,"updateMostRecentlyTouchedSection",void 0),eo([so.Action,oo("design:type",Function)],lo.prototype,"openNewSectionPrompt",void 0),lo=eo([Object(n.b)({components:{OzMenuRows:We.e,OzScreenSizeAwarePopoverModal:qe.a,OzTextButton:Ot.default}})],lo);var co=lo,po=Object(p.a)(co,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("OzScreenSizeAwarePopoverModal",{attrs:{role:"dialog","aria-label":t.__("Post section selection dialog"),"is-phone":t.isPhone,"box-classes":["shadow-elevation-3"],"popover-anchor":t.popoverAnchor,"is-draggable-drawer":!0,"disable-drag":!0,"position-mode":"manual","should-full-size-cover-screen":!0,"window-height":t.windowHeight,dir:t.dir},on:{"scrim-click":t.cancel,"scrim-esc":t.cancel},scopedSlots:t._u([{key:"header",fn:function(){return[e("div",{class:["grid","grid-cols-3","items-center","pt-4","pb-3","px-4","md:pt-3","md:pb-2","md:px-3"]},[e("h2",{class:["col-start-2","text-center","text-heading-3","md:text-heading-4","font-semibold","truncate","text-dark-text-100","dark:text-light-text-100"]},[t._v("\n        "+t._s(t.__("Section"))+"\n      ")]),t._v(" "),t.canIModerate?e("OzTextButton",{staticClass:"justify-self-end px-0 text-14 font-semibold",attrs:{"color-scheme":t.OzTextButtonColorScheme.Primary,text:t.__("New"),"aria-label":t.__("New Section"),title:t.__("New Section")},on:{click:function(e){return e.stopPropagation(),t.createNewSection.apply(null,arguments)}}}):t._e()],1)]},proxy:!0},{key:"body",fn:function(){return[e("OzMenuRows",{staticClass:"mb-4 overflow-auto",attrs:{"accessibility-role":"menu","aria-label":t.__("Sections"),"focus-style":t.OzMenuRowsFocusStyle.Bubble200,"size-preset":t.OzMenuRowsSizePreset.H44px,rows:t.sortedSectionsRows,"common-settings":{role:"menuitemradio"},"data-cy":"surfacePostComposerModalSectionMenu"},on:{"select-row":t.changeSection}})]},proxy:!0}])})}),[],!1,null,null,null).exports,uo=function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},ho=function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)};let go=class extends n.j{get progressPercentage(){return 100*this.progress+"%"}};uo([Object(n.h)(),ho("design:type",Number)],go.prototype,"progress",void 0),go=uo([Object(n.b)({})],go);var fo,mo=go,vo=Object(p.a)(mo,(function(){var t=this._self._c;this._self._setupProxy;return t("div",{class:["h-1","w-full","block","rounded-none","bg-clip-padding","overflow-hidden"]},[t("div",{class:["absolute","top-0","bottom-0","bg-grape-500","dark:bg-canary-500",this.progress<1&&"rounded-r","transition-width","duration-300","ease-linear"],style:{width:this.progressPercentage}})])}),[],!1,null,null,null).exports,yo=o(25),bo=function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},xo=function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)};!function(t){t.PopUp="PopUp",t.Dock="Dock",t.Delete="Delete",t.UndoAutoPublish="UndoAutoPublish",t.Save="Save"}(fo||(fo={}));const ko=Object(n.m)("browser"),So=Object(n.m)("draft");let wo=class extends n.j{constructor(){super(...arguments),this.OzBoxColors=yo.a,this.OzMenuRowsFocusStyle=We.a,this.OzMenuRowsSizePreset=We.d}get draftActionRows(){return[this.autoPublishActionItem,{text:this.__("Pop-up draft"),icon:"enlarge",eventPayload:fo.PopUp},{text:this.__("Dock draft"),icon:"expand",eventPayload:fo.Dock},{text:this.__("Delete draft"),icon:"delete",rowStyle:We.c.Danger,eventPayload:fo.Delete}]}get autoPublishActionItem(){return this.targetDraft.shouldAutoPublish?{text:this.__("Undo auto-publish"),icon:"undo",eventPayload:fo.UndoAutoPublish}:{text:this.targetDraft.uploadingFile?this.__("Auto publish draft"):this.__("Publish draft"),icon:"send_outline",rowStyle:this.shouldDisableSave?We.c.Disabled:We.c.Default,isDisabled:this.shouldDisableSave,eventPayload:fo.Save}}get popoverAnchor(){return{position:"side",top:this.top,left:this.left,height:0,width:0}}get targetDraft(){return this.draftByCid(this.draftCid)}get draftActionHandlers(){return{[fo.PopUp]:this.expand,[fo.Dock]:this.dock,[fo.Delete]:this.confirmDelete,[fo.UndoAutoPublish]:this.undoAutoPublish,[fo.Save]:this.save}}handleDraftAction(t,e){this.draftActionHandlers[e]()}close(){this.$emit("close")}expand(){this.$emit("expand")}dock(){this.$emit("dock")}save(){this.close(),this.$emit("save")}undoAutoPublish(){this.close(),this.$emit("stop-auto-publish")}confirmDelete(){this.close(),this.$emit("confirm-delete")}};bo([Object(n.h)({required:!0}),xo("design:type",Object)],wo.prototype,"draftCid",void 0),bo([Object(n.h)({required:!0}),xo("design:type",Number)],wo.prototype,"top",void 0),bo([Object(n.h)({required:!0}),xo("design:type",Number)],wo.prototype,"left",void 0),bo([Object(n.h)({required:!0}),xo("design:type",Boolean)],wo.prototype,"shouldDisableSave",void 0),bo([n.i,xo("design:type",Boolean)],wo.prototype,"isFirefox",void 0),bo([n.d,xo("design:type",String)],wo.prototype,"dir",void 0),bo([n.d,xo("design:type",Boolean)],wo.prototype,"isUsingNewSurfaceShadows",void 0),bo([ko.Getter,xo("design:type",Boolean)],wo.prototype,"isPhone",void 0),bo([ko.Getter,xo("design:type",Number)],wo.prototype,"windowWidth",void 0),bo([ko.Getter,xo("design:type",Number)],wo.prototype,"windowHeight",void 0),bo([So.Getter,xo("design:type",Function)],wo.prototype,"draftByCid",void 0),wo=bo([Object(n.b)({components:{OzMenuRows:We.e,OzScreenSizeAwarePopoverModal:qe.a}})],wo);var _o=wo,Oo=Object(p.a)(_o,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("OzScreenSizeAwarePopoverModal",{attrs:{"is-draggable-drawer":!1,color:t.OzBoxColors.PrimaryBlur,dir:t.dir,"is-phone":t.isPhone,"popover-width":"auto","popover-anchor":t.popoverAnchor,"window-height":t.windowHeight,"window-width":t.windowWidth,"x-header":!1,"x-popover-tip":!1,"box-classes":{"shadow-popover":!t.isUsingNewSurfaceShadows,"shadow-elevation-3":t.isUsingNewSurfaceShadows},"is-firefox":t.isFirefox},on:{"scrim-click":t.close,"scrim-esc":t.close},scopedSlots:t._u([{key:"body",fn:function(){return[e("OzMenuRows",{staticClass:"my-1",attrs:{"size-preset":t.OzMenuRowsSizePreset.H44px,rows:t.draftActionRows,"focus-style":t.OzMenuRowsFocusStyle.Bubble100},on:{"select-row":t.handleDraftAction}})]},proxy:!0}])})}),[],!1,null,null,null).exports,Co=o(1065),Po=function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},Do=function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)};const To=Object(n.m)("draft"),jo=Object(n.m)("map"),Ao=Object(n.m)("post"),Mo=Object(n.m)("composerModal"),zo=Object(n.m)("composerModalAlert"),Bo=Object(n.m)("composerModalTagInputs"),Ro=Object(n.m)("browser"),Io=Object(n.m)("section"),Eo=Object(n.m)("confirmationDialog"),Fo=Object(n.m)("dragAndDropEvents");let Ho=class extends(Object(n.e)(Co.a)){constructor(){super(...arguments),this.minimizedContextMenuTop=0,this.minimizedContextMenuLeft=0,this.OzIconButtonColorScheme=g.a,this.OzIconButtonSizePreset=g.c,this.removeKeyboardShortcutsListener=()=>{}}get isCurrentDraftActive(){return this.isCidActiveDraft(this.draftCid)}get modalState(){return this.isCurrentDraftActive?this.isLargeUi&&this.isCurrentDraftNewPost?this.storeModalState:"expanded":"minimized"}get currentDraft(){return this.draftByCid(this.draftCid)}get isCurrentDraftNewPost(){return this.isDraftCidNewPost(this.draftCid)}get canDock(){return this.isCurrentDraftNewPost&&this.isLargeUi}get canMinimize(){return this.isCurrentDraftNewPost}get currentDraftUploadingFile(){var t;return null===(t=this.currentDraft)||void 0===t?void 0:t.uploadingFile}get isUploadingFile(){return!!this.currentDraftUploadingFile}get currentDraftFakeUploadProgress(){var t;return Math.pow(.9*((null===(t=this.currentDraft)||void 0===t?void 0:t.uploadProgress)||0),2)}get isDocked(){return"docked"===this.modalState}get isDirty(){const t=this.getPostByCid(this.draftCid);return!!this.currentDraft&&(this.currentDraft.subject!==(null===t||void 0===t?void 0:t.subject)||this.currentDraft.body!==(null===t||void 0===t?void 0:t.body)||this.currentDraft.attachment!==(null===t||void 0===t?void 0:t.attachment)||this.currentDraft.attachment_caption!==(null===t||void 0===t?void 0:t.attachment_caption)||!!this.currentDraftUploadingFile)}get canAutoPublishDraft(){return this.isUploadingFile&&!this.isPhone}get shouldDisableSave(){var t,e,o,i,n;const r=this.isMap&&("number"!==typeof(null===(e=null===(t=this.currentDraft)||void 0===t?void 0:t.location_point)||void 0===e?void 0:e.longitude)||"number"!==typeof(null===(i=null===(o=this.currentDraft)||void 0===o?void 0:o.location_point)||void 0===i?void 0:i.latitude)),a=Object(xe.m)(this.currentDraft),s=this.isShelf&&!this.sectionById(null===(n=this.currentDraft)||void 0===n?void 0:n.wall_section_id);return Object(xe.l)(this.currentDraft)&&!this.canAutoPublishDraft||r&&a||s}get currentDraftAttachment(){var t;return null===(t=this.currentDraft)||void 0===t?void 0:t.attachment}get hasAttachment(){return!!this.currentDraftAttachment}get minimizedTitle(){var t;return this.currentDraft&&(this.currentDraft.subject||(null===(t=this.currentDraft.uploadingFile)||void 0===t?void 0:t.name)||this.currentDraft.minimizedPlaceholderTitle)||this.__("Draft")}get xMinimizedContextMenu(){return this.draftCid===this.draftShowingMinimizedContextMenuCid}get isLargeUi(){return this.isDesktop&&!this.isPhone}get isDraftAutoPublishing(){var t;return!!(null===(t=this.currentDraft)||void 0===t?void 0:t.shouldAutoPublish)}mounted(){this.removeKeyboardShortcutsListener=Object(f.a)(this.$refs.modalContainer.$el,{"$mod+Enter":t=>{this.handlePostShortcut(t)},"$mod+Shift+Enter":t=>{this.handlePostAndStartNewPostShortcut(t)}})}beforeDestroy(){this.removeKeyboardShortcutsListener()}handlePostShortcut(t){this.shouldDisableSave||(t.stopPropagation(),t.preventDefault(),this.save())}handlePostAndStartNewPostShortcut(t){this.shouldDisableSave||(t.stopPropagation(),t.preventDefault(),this.save(),setTimeout(()=>{this.isMap?this.startPickingLocation():this.startNewPost()},300))}resetPostModalPanels(){this.resetAlert(),this.closePopover(),this.closeNewSectionPrompt(),this.closeMinimizedContextMenu()}respondToActiveDraftChange(){this.resetPostModalPanels()}respondToUploadingFileChange(t){t?this.startUpload():this.cancelUpload()}respondToObjectsDraggedOnPage(t){if(t&&this.isCurrentDraftActive&&this.isDocked){const t=this.$refs.modalContainer.$el.getBoundingClientRect();this.setPostModalDropZone({left:t.left,right:t.right,top:t.top,bottom:t.bottom})}}respondToDraftAutoPublished(t){t&&this.minimize()}respondToModalExpanded(t){"expanded"===t&&this.expand()}onProgress(){this.updateCurrentDraft({uploadProgress:this.progress})}closeModal(){this.isShowingAlert||this.isShowingTagMenu||this.xNewSectionPrompt||(this.isDirty?this.openAlert({title:this.__("You have unsaved changes"),body:this.__("Are you sure you want to discard your changes and close this panel?"),primaryActionText:this.__("Discard"),secondaryActionText:this.__("Keep Working"),primaryActions:[{type:"draft/cancelEditingDraft"}],secondaryActions:[],isPrimaryActionDanger:!0}):this.cancelEditingDraft())}minimize(){this.setDraftNumber({cid:this.draftCid}),this.stopEditingPost()}unminimize(){this.startEditingPost({postCid:this.draftCid})}updateCurrentDraft(t){this.updateDraft(Object.assign(Object.assign({},t),{cid:this.draftCid}))}updateDraftSubject(t){this.updateCurrentDraft({subject:t})}updateDraftBody(t){this.updateCurrentDraft({body:t})}save(){this.publishDraft({cid:this.draftCid})}stopAutoPublish(){this.stopAutoPublishDraft({cid:this.draftCid})}scrollToTop(){this.$refs.contentEditor.scrollToTop()}scrollToBottom(){this.$refs.contentEditor.scrollToBottom()}toggleMinimizedContextMenu(t){this.isDesktop&&(this.xMinimizedContextMenu?this.closeMinimizedContextMenu():(this.minimizedContextMenuTop=t.y,this.minimizedContextMenuLeft=t.x,this.openMinimizedContextMenu({cid:this.draftCid})))}expandMinimizedDraft(){this.expand(),this.unminimize()}dockMinimizedDraft(){this.dock(),this.unminimize()}confirmDelete(){this.currentDraft&&Object(xe.l)(this.currentDraft)?this.deletePost({postCid:this.draftCid}):this.openConfirmationDialog(Object.assign(Object.assign({},i.b),{afterConfirmActions:[{type:"post/deletePost",payload:{postCid:this.draftCid}}],xShadow:this.isUsingNewSurfaceShadows}))}onModalOverlayClicked(){this.isShowingAlert||this.isShowingTagMenu||this.xNewSectionPrompt||!this.isDesktop||(Object(xe.l)(this.currentDraft)?this.cancelEditingDraft():this.canMinimize?this.minimize():this.closeModal())}};Po([Object(n.h)({required:!0}),Do("design:type",Object)],Ho.prototype,"draftCid",void 0),Po([n.i,Do("design:type",Boolean)],Ho.prototype,"isMac",void 0),Po([n.d,Do("design:type",Boolean)],Ho.prototype,"isShelf",void 0),Po([n.d,Do("design:type",Boolean)],Ho.prototype,"isMap",void 0),Po([n.d,Do("design:type",Boolean)],Ho.prototype,"isDesktop",void 0),Po([n.d,Do("design:type",String)],Ho.prototype,"dir",void 0),Po([n.d,Do("design:type",Boolean)],Ho.prototype,"isUsingNewSurfaceShadows",void 0),Po([zo.Getter("isOpen"),Do("design:type",Boolean)],Ho.prototype,"isShowingAlert",void 0),Po([Mo.Getter("modalState"),Do("design:type",Object)],Ho.prototype,"storeModalState",void 0),Po([Mo.Getter,Do("design:type",Boolean)],Ho.prototype,"scrolledToTop",void 0),Po([Mo.Getter,Do("design:type",Boolean)],Ho.prototype,"scrolledToBottom",void 0),Po([Ao.Getter,Do("design:type",Function)],Ho.prototype,"getPostByCid",void 0),Po([To.Getter,Do("design:type",Object)],Ho.prototype,"activeDraftCid",void 0),Po([To.Getter,Do("design:type",Function)],Ho.prototype,"isDraftCidNewPost",void 0),Po([To.Getter,Do("design:type",Function)],Ho.prototype,"draftByCid",void 0),Po([To.Getter,Do("design:type",Function)],Ho.prototype,"isCidActiveDraft",void 0),Po([To.Getter,Do("design:type",Object)],Ho.prototype,"draftShowingMinimizedContextMenuCid",void 0),Po([Io.Getter,Do("design:type",Function)],Ho.prototype,"sectionById",void 0),Po([Ro.Getter,Do("design:type",Boolean)],Ho.prototype,"isPhone",void 0),Po([Ro.Getter,Do("design:type",Number)],Ho.prototype,"windowHeight",void 0),Po([Ro.Getter,Do("design:type",Number)],Ho.prototype,"visualViewportHeight",void 0),Po([Ro.Getter,Do("design:type",Number)],Ho.prototype,"visualViewportWidth",void 0),Po([Ro.Getter,Do("design:type",Number)],Ho.prototype,"visualViewportScale",void 0),Po([Ro.State("darkMode"),Do("design:type",Boolean)],Ho.prototype,"isBrowserDarkMode",void 0),Po([Bo.Getter,Do("design:type",Boolean)],Ho.prototype,"isShowingTagMenu",void 0),Po([Bo.Getter,Do("design:type",Boolean)],Ho.prototype,"xSectionMenu",void 0),Po([Bo.Getter,Do("design:type",Boolean)],Ho.prototype,"xLocationMenu",void 0),Po([Bo.Getter,Do("design:type",Boolean)],Ho.prototype,"xPostColorMenu",void 0),Po([Bo.Getter,Do("design:type",Boolean)],Ho.prototype,"xNewSectionPrompt",void 0),Po([Bo.Getter,Do("design:type",Object)],Ho.prototype,"sectionChipPosition",void 0),Po([Bo.Getter,Do("design:type",Object)],Ho.prototype,"locationChipPosition",void 0),Po([Bo.Getter,Do("design:type",Object)],Ho.prototype,"postColorChipPosition",void 0),Po([Fo.Getter("isHandlingDragEvent"),Do("design:type",Boolean)],Ho.prototype,"isPageHandlingDragEvent",void 0),Po([Mo.Action,Do("design:type",Function)],Ho.prototype,"dock",void 0),Po([Mo.Action,Do("design:type",Function)],Ho.prototype,"expand",void 0),Po([Bo.Action,Do("design:type",Function)],Ho.prototype,"closeNewSectionPrompt",void 0),Po([Bo.Action,Do("design:type",Function)],Ho.prototype,"closePopover",void 0),Po([zo.Action,Do("design:type",Function)],Ho.prototype,"openAlert",void 0),Po([zo.Action,Do("design:type",Function)],Ho.prototype,"resetAlert",void 0),Po([jo.Action,Do("design:type",Function)],Ho.prototype,"startPickingLocation",void 0),Po([Ao.Action,Do("design:type",Function)],Ho.prototype,"deletePost",void 0),Po([Ao.Action,Do("design:type",Function)],Ho.prototype,"startEditingPost",void 0),Po([Ao.Action,Do("design:type",Function)],Ho.prototype,"startNewPost",void 0),Po([Ao.Action,Do("design:type",Function)],Ho.prototype,"stopEditingPost",void 0),Po([To.Action,Do("design:type",Function)],Ho.prototype,"setDraftNumber",void 0),Po([To.Action,Do("design:type",Function)],Ho.prototype,"cancelEditingDraft",void 0),Po([To.Action,Do("design:type",Function)],Ho.prototype,"updateDraft",void 0),Po([To.Action,Do("design:type",Function)],Ho.prototype,"openMinimizedContextMenu",void 0),Po([To.Action,Do("design:type",Function)],Ho.prototype,"closeMinimizedContextMenu",void 0),Po([To.Action,Do("design:type",Function)],Ho.prototype,"stopAutoPublishDraft",void 0),Po([To.Action,Do("design:type",Function)],Ho.prototype,"publishDraft",void 0),Po([Eo.Action,Do("design:type",Function)],Ho.prototype,"openConfirmationDialog",void 0),Po([Fo.Action,Do("design:type",Function)],Ho.prototype,"setPostModalDropZone",void 0),Po([Object(n.k)("activeDraftCid"),Do("design:type",Function),Do("design:paramtypes",[]),Do("design:returntype",void 0)],Ho.prototype,"respondToActiveDraftChange",null),Po([Object(n.k)("file"),Do("design:type",Function),Do("design:paramtypes",[Object]),Do("design:returntype",void 0)],Ho.prototype,"respondToUploadingFileChange",null),Po([Object(n.k)("isPageHandlingDragEvent"),Do("design:type",Function),Do("design:paramtypes",[Boolean]),Do("design:returntype",void 0)],Ho.prototype,"respondToObjectsDraggedOnPage",null),Po([Object(n.k)("isDraftAutoPublishing"),Do("design:type",Function),Do("design:paramtypes",[Boolean]),Do("design:returntype",void 0)],Ho.prototype,"respondToDraftAutoPublished",null),Po([Object(n.k)("modalState",{immediate:!0}),Do("design:type",Function),Do("design:paramtypes",[Object]),Do("design:returntype",void 0)],Ho.prototype,"respondToModalExpanded",null),Ho=Po([Object(n.b)({components:{DockableModal:u,OzBaseButton:h.default,OzIconButton:g.d,SurfaceComposerContextMenu:Oo,SurfaceComposerModalConfirmationAlert:R,SurfaceComposerModalHeaderBar:De,SurfaceComposerModalEditor:be,SurfaceComposerModalNewSectionPrompt:Ve,SurfaceComposerModalTagSectionMenu:po,SurfaceComposerModalTagPostColorMenu:to,SurfaceComposerModalTagLocationMenu:Object(n.l)(()=>Promise.all([o.e(18),o.e(286)]).then(o.bind(null,1779))),SurfaceFileUploadBar:vo,SurfaceComposerModalMinimizedAttachmentThumbnail:Ie,CircularProgressBar:k}})],Ho);var No=Ho,Lo=(o(1735),Object(p.a)(No,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("dockable-modal",{ref:"modalContainer",class:"expanded"===t.modalState&&"expanded-post-modal",attrs:{"data-cy":"surfaceComposerModal","data-pw":"surfaceComposerModal",state:t.modalState,"window-height":t.windowHeight,"visual-viewport-height":t.visualViewportHeight,"visual-viewport-width":t.visualViewportWidth,"visual-viewport-scale":t.visualViewportScale,"is-phone":t.isPhone,"x-expanded-overlay-color":!t.isPageHandlingDragEvent,"x-minimized-context-menu":t.xMinimizedContextMenu,"x-new-surface-shadows":t.isUsingNewSurfaceShadows,dir:t.dir},on:{close:t.closeModal,"overlay-clicked":t.onModalOverlayClicked},scopedSlots:t._u([{key:"overflowable-modal-content",fn:function(){return[t.xSectionMenu?e("surface-composer-modal-tag-section-menu",{staticClass:"pointer-events-auto",attrs:{"popover-anchor":t.sectionChipPosition},on:{cancel:t.closePopover}}):t._e(),t._v(" "),t.xPostColorMenu?e("surface-composer-modal-tag-post-color-menu",{staticClass:"pointer-events-auto",attrs:{"popover-anchor":t.postColorChipPosition},on:{cancel:t.closePopover}}):t._e(),t._v(" "),t.xLocationMenu?e("surface-composer-modal-tag-location-menu",{staticClass:"pointer-events-auto",attrs:{"popover-anchor":t.locationChipPosition},on:{cancel:t.closePopover}}):t._e()]},proxy:!0},{key:"minimized-content",fn:function(){return[e("OzBaseButton",{class:["w-full","text-start","flex","justify-between","items-center","pointer-events-auto","h-10","rounded-t-2xl","select-none","ps-2.5","pe-2","relative","flex-shrink","min-w-0","space-s-2",t.isUsingNewSurfaceShadows&&"shadow-elevation-2","bg-light-ui-100","dark:bg-dark-ui-100","hover:bg-light-ui-200","dark:hover:bg-dark-ui-200","active:bg-light-ui-200","dark:active:bg-dark-ui-200","focus-visible:ring-[2.5px]","ring-grape-500","dark:ring-canary-500"],style:{flexBasis:"164px",maxWidth:"164px"},attrs:{dir:t.dir,"aria-label":t.__("Open %{minimizedTitle} post composer",{minimizedTitle:t.minimizedTitle})},on:{click:t.unminimize,keyup:t.unminimize,contextmenu:function(e){return e.preventDefault(),t.toggleMinimizedContextMenu.apply(null,arguments)}}},[e("span",{class:["truncate","font-bold","text-body-small","font-sans","text-dark-text-100","dark:text-light-text-100"]},[t._v("\n        "+t._s(t.minimizedTitle)+"\n      ")]),t._v(" "),t.isUploadingFile?e("circular-progress-bar",{attrs:{size:24,progress:t.currentDraftFakeUploadProgress,"dark-mode":t.isBrowserDarkMode}}):t.hasAttachment?e("surface-composer-modal-minimized-attachment-thumbnail",{attrs:{width:24,height:24,"attachment-url":t.currentDraftAttachment,"alt-text":t.__("Attachment thumbnail")}}):t._e()],1),t._v(" "),t.xMinimizedContextMenu?e("SurfaceComposerContextMenu",{attrs:{top:t.minimizedContextMenuTop,left:t.minimizedContextMenuLeft,"should-disable-save":t.shouldDisableSave,"draft-cid":t.draftCid,"x-new-surface-shadows":t.isUsingNewSurfaceShadows},on:{close:t.closeMinimizedContextMenu,expand:t.expandMinimizedDraft,dock:t.dockMinimizedDraft,"confirm-delete":t.confirmDelete,save:t.save,"stop-auto-publish":t.stopAutoPublish}}):t._e()]},proxy:!0},{key:"modal-content",fn:function(){return[t.isShowingAlert?e("surface-composer-modal-confirmation-alert",{on:{cancel:t.resetAlert}}):t._e(),t._v(" "),t.xNewSectionPrompt?e("surface-composer-modal-new-section-prompt",{on:{cancel:t.closeNewSectionPrompt}}):t._e(),t._v(" "),e("surface-composer-modal-header-bar",{attrs:{"is-docked":t.isDocked,"disable-save":t.shouldDisableSave,"can-dock":t.canDock,"can-minimize":t.canMinimize,"is-large-ui":t.isLargeUi,tabindex:"-1",dir:t.dir},on:{close:t.closeModal,dock:t.dock,expand:t.expand,minimize:t.minimize,save:t.save,"stop-auto-publish":t.stopAutoPublish}}),t._v(" "),e("surface-composer-modal-editor",{ref:"contentEditor",attrs:{"is-docked":t.isDocked,"draft-cid":t.draftCid,"is-large-ui":t.isLargeUi,tabindex:"-1"},on:{"subject-change":t.updateDraftSubject,"body-change":t.updateDraftBody}})]},proxy:!0},{key:"extra-right",fn:function(){return[e("div",{class:["pointer-events-none","h-full","ps-4","flex","flex-col"]},[e("OzIconButton",{directives:[{name:"show",rawName:"v-show",value:!t.scrolledToTop,expression:"!scrolledToTop"}],class:["mt-20","pointer-events-auto"],attrs:{label:t.__("Scroll post body to the top"),"color-scheme":t.OzIconButtonColorScheme.Secondary,"size-preset":t.OzIconButtonSizePreset.H32px,"icon-name":"arrow_up","icon-size":16},on:{click:t.scrollToTop}}),t._v(" "),e("OzIconButton",{directives:[{name:"show",rawName:"v-show",value:!t.scrolledToBottom,expression:"!scrolledToBottom"}],class:[t.isLargeUi?"mb-4":"mb-16","mt-auto","pointer-events-auto"],attrs:{label:t.__("Scroll post body to the bottom"),"color-scheme":t.OzIconButtonColorScheme.Secondary,"size-preset":t.OzIconButtonSizePreset.H32px,"icon-name":"arrow_down","icon-size":16},on:{click:t.scrollToBottom}})],1)]},proxy:!0}])})}),[],!1,null,null,null));e.default=Lo.exports},199:function(t,e,o){"use strict";var i=o(0),n=o(211),r=o.n(n),a=o(49),s=function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},l=function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)};let c=class extends i.j{constructor(){super(...arguments),this.MAX_TOP_MARGIN=0,this.MIN_TOP_MARGIN=0,this.DRAG_DISTANCE_AT_TOP=0,this.DRAG_DISTANCE_MIN=0,this.dragDistanceY=0,this.dragDistanceYBeforeStart=0,this.latestVelocityY=0,this.latestPanEventTimestamp=0,this.draggedToFullSize=!1,this.scrollEnabled=!1,this.panEnabled=!1,this.marginTop=0,this.scrollTop=0,this.isDragStartEmittedForScroll=!1,this.scrollWithPan=!1}handleDragDisable(t){t?this.removePanListener():this.addPanListener()}handleResize(t){t?(this.resetElement("full","slow"),setTimeout(()=>{document.documentElement.scrollTop=0},100),this.removePanListener()):(this.resetElement("top","slow"),this.addPanListener())}updateElement(){this.$nextTick(()=>{const t=this.$refs.modalContainer;t&&(this.marginTop=this.MAX_TOP_MARGIN+this.dragDistanceY,this.marginTop===this.MIN_TOP_MARGIN?this.draggedToFullSize=!0:this.draggedToFullSize=!1,t.style.marginTop=this.marginTop+"px")})}addTransition(t="slow"){const e=this.$refs.modalContainer;e&&(e.style.transition="slow"===t?"margin 150ms cubic-bezier(0.4, 0, 0.2, 1)":"margin 50ms cubic-bezier(0.4, 0, 0.2, 1)",setTimeout(()=>{e.style.transition=""},"slow"===t?150:100))}resetElement(t="bottom",e="slow"){this.addTransition(e),"bottom"===t?(this.dragDistanceY=0,this.disableScroll()):"top"===t?(this.dragDistanceY=this.DRAG_DISTANCE_AT_TOP,this.enableScroll()):"full"===t?(this.dragDistanceY=-this.MAX_TOP_MARGIN,this.enableScroll()):"out"===t&&(this.dragDistanceY=this.windowHeight),this.updateElement()}computeEndVelocity({endEvent:t,lastPanEvent:e}){const o=(t.velocity+e.velocity)/Math.abs(t.velocity+e.velocity);return t.timestamp-e.timestamp>60?o*Math.max(Math.abs(e.velocity),t.velocity)*1e3:o*Math.abs(t.velocity)*1e3}get isScrollingWholeModal(){return"whole"===this.scrollType}get scrollingElement(){return this.isScrollingWholeModal?this.$refs.modalContainerInnerWrapper:this.$refs.modalBody}handleTrayScrollStart(t){this.touchStartY=t.touches[0].clientY,this.isDragStartEmittedForScroll=!1}handleTrayScroll(t){if(!this.scrollEnabled)return void(t.cancelable&&t.preventDefault());this.isDragStartEmittedForScroll||(this.isDragStartEmittedForScroll=!0,this.$emit("dragstart"));const e=this.scrollingElement;e&&(this.panEnabled&&e.scrollTop<0?t.preventDefault():this.panEnabled&&0===e.scrollTop&&(this.touchStartY&&this.touchStartY>t.changedTouches[0].clientY+5||this.touchStartY&&this.touchStartY<t.changedTouches[0].clientY-5&&t.cancelable&&t.preventDefault()),this.scrollTimeout&&(clearTimeout(this.scrollTimeout),this.scrollTimeout=void 0),this.scrollTimeout=setTimeout(()=>{this.scrollTop=e.scrollTop;this.scrollTop<=5?this.addPanListener():this.removePanListener()},250))}enableScroll(){this.scrollEnabled=!0,this.scrollingElement.style.overflow="auto"}disableScroll(){this.scrollEnabled=!1,this.scrollingElement.style.overflow="visible"}handleStartPan(){this.dragDistanceYBeforeStart=this.dragDistanceY;const t=this.scrollingElement;this.scrollEnabled&&0===t.scrollTop&&(this.scrollWithPan=!0),this.$emit("dragstart")}handlePanMove(t,e,o){if(this.scrollWithPan&&t<0){this.scrollingElement.scrollTop=-t,this.scrollWithPan=!1}else this.dragDistanceY=Math.max(this.dragDistanceYBeforeStart+t,this.DRAG_DISTANCE_AT_TOP),this.updateElement(),this.latestVelocityY=e,this.latestPanEventTimestamp=o,this.$emit("dragging",t)}handlePanEnd(t,e){const o=this.computeEndVelocity({endEvent:{velocity:t,timestamp:e},lastPanEvent:{velocity:this.latestVelocityY,timestamp:this.latestPanEventTimestamp}});this.dragDistanceY<=this.DRAG_DISTANCE_AT_TOP&&(this.dragDistanceY=this.DRAG_DISTANCE_AT_TOP,this.enableScroll());const i=this.dragDistanceYBeforeStart<=this.DRAG_DISTANCE_AT_TOP;o>300?(this.$emit("swipedown",{isAtTopBeforeDragging:i}),this.latestVelocityY+t>0?this.resetElement("bottom","fast"):this.resetElement("top","fast")):o<-300?(this.$emit("swipeup",{isAtTopBeforeDragging:i}),this.latestVelocityY+t<0?this.resetElement("top","fast"):this.resetElement("bottom","fast")):this.dragDistanceY>this.DRAG_DISTANCE_AT_TOP/2?this.resetElement("bottom","slow"):this.DRAG_DISTANCE_AT_TOP/2>this.dragDistanceY&&this.dragDistanceY>this.DRAG_DISTANCE_AT_TOP&&this.resetElement("top","slow"),this.$emit("dragend",this.dragDistanceY)}addPanListener(){if(!this.fullSize)if(this.disableDrag)this.enableScroll();else{if(!this.hammer){const t=this.$refs.modalContainerInner;this.hammer=new r.a(t)}this.hammer.get("pan").set({direction:r.a.DIRECTION_VERTICAL}),this.hammer.on("panstart",t=>{this.handleStartPan()}),this.hammer.on("panmove",t=>{this.handlePanMove(t.deltaY,t.velocityY,t.timeStamp)}),this.hammer.on("panend",t=>{this.handlePanEnd(t.velocityY,t.timeStamp)}),this.panEnabled=!0}}removePanListener(){this.hammer&&(this.hammer.off("panstart panmove panend"),this.panEnabled=!1)}computePrecalculatedMeasurement(){this.MAX_TOP_MARGIN=this.preferredTrayStartHeight?this.windowHeight-this.preferredTrayStartHeight:this.windowHeight/4,this.MIN_TOP_MARGIN=(()=>{var t;if(this.shouldFullSizeCoverScreen)return this.minTopMargin;const e=this.$refs.modalBodyContent;if(e){const o=this.windowHeight-e.clientHeight-(null===(t=this.$refs.header)||void 0===t?void 0:t.clientHeight);return o>this.MAX_TOP_MARGIN||o<0?this.minTopMargin:o}return this.minTopMargin})(),this.DRAG_DISTANCE_AT_TOP=-this.MAX_TOP_MARGIN+Math.max(0,this.MIN_TOP_MARGIN),this.DRAG_DISTANCE_MIN=-this.MAX_TOP_MARGIN+this.MIN_TOP_MARGIN}setStartingTopMargin(){this.marginTop=this.MAX_TOP_MARGIN,(this.fullSize||this.draggedToFullSize)&&(this.dragDistanceY=this.DRAG_DISTANCE_AT_TOP),this.updateElement()}recalculateMeasurement(){this.$nextTick(()=>{this.computePrecalculatedMeasurement(),this.setStartingTopMargin()})}mounted(){this.computePrecalculatedMeasurement(),this.setStartingTopMargin(),this.addPanListener()}scrimClick(){this.$emit("scrim-click")}scrimEsc(){this.$emit("scrim-esc")}};s([Object(i.h)({default:!0}),l("design:type",Boolean)],c.prototype,"xHeader",void 0),s([Object(i.h)({required:!0}),l("design:type",Number)],c.prototype,"windowHeight",void 0),s([Object(i.h)({default:!1}),l("design:type",Boolean)],c.prototype,"xDrawerHandle",void 0),s([Object(i.h)({default:!1}),l("design:type",Boolean)],c.prototype,"fullSize",void 0),s([Object(i.h)({default:!1}),l("design:type",Boolean)],c.prototype,"disableDrag",void 0),s([Object(i.h)({default:"body"}),l("design:type",String)],c.prototype,"scrollType",void 0),s([Object(i.h)({default:"auto"}),l("design:type",Object)],c.prototype,"darkMode",void 0),s([Object(i.h)({default:void 0}),l("design:type",Number)],c.prototype,"preferredTrayStartHeight",void 0),s([Object(i.h)({default:!1}),l("design:type",Boolean)],c.prototype,"shouldFullSizeCoverScreen",void 0),s([Object(i.h)({default:!0}),l("design:type",Boolean)],c.prototype,"xScrim",void 0),s([Object(i.h)({default:!1}),l("design:type",Boolean)],c.prototype,"isScrimSpectral",void 0),s([Object(i.h)({default:!0}),l("design:type",Boolean)],c.prototype,"shouldFadeIn",void 0),s([Object(i.h)({default:0}),l("design:type",Number)],c.prototype,"minTopMargin",void 0),s([Object(i.h)({required:!1}),l("design:type",String)],c.prototype,"zIndexClass",void 0),s([Object(i.h)({required:!1}),l("design:type",Boolean)],c.prototype,"hideScrollbar",void 0),s([Object(i.k)("disableDrag"),l("design:type",Function),l("design:paramtypes",[Boolean]),l("design:returntype",void 0)],c.prototype,"handleDragDisable",null),s([Object(i.k)("fullSize"),l("design:type",Function),l("design:paramtypes",[Boolean]),l("design:returntype",void 0)],c.prototype,"handleResize",null),s([Object(i.k)("preferredTrayStartHeight"),l("design:type",Function),l("design:paramtypes",[]),l("design:returntype",void 0)],c.prototype,"recalculateMeasurement",null),c=s([Object(i.b)({components:{OzOverlay:a.a}})],c);var d=c,p=(o(259),o(3)),u=Object(p.a)(d,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("transition",{attrs:{"leave-active-class":"out"}},[e("OzOverlay",{class:["overflow-hidden","flex","flex-col","justify-end","items-center","font-sans"],attrs:{"is-spectral":t.isScrimSpectral,scrim:t.xScrim?"modal":null,"should-fade-in":t.shouldFadeIn,"z-index-class":t.zIndexClass,"dark-mode":t.darkMode},on:{"scrim-click":t.scrimClick,"scrim-esc":t.scrimEsc}},[e("div",{ref:"modalContainer",class:[{"mt-96 min-h-auto w-full":!0,"h-full":t.shouldFullSizeCoverScreen,"overflow-auto flex flex-col":!0,"no-scrollbar":t.hideScrollbar,"modal-container":!0,"shadow-elevation-5":!t.fullSize&&!t.draggedToFullSize,"rounded-none":(t.fullSize||t.draggedToFullSize)&&t.MIN_TOP_MARGIN===t.minTopMargin,"rounded-3xl rounded-br-none rounded-bl-none":!t.fullSize&&!t.draggedToFullSize||t.MIN_TOP_MARGIN>t.minTopMargin,"full-size":t.fullSize||t.draggedToFullSize,"bg-light-ui-100 dark:bg-dark-ui-100":"auto"===t.darkMode,"bg-light-ui-100 ":!1===t.darkMode,"bg-dark-ui-100":!0===t.darkMode,"pb-safe-inset-bottom":!0}]},[e("div",{ref:"modalContainerInner",class:[{"bg-light-ui-100 dark:bg-dark-ui-100":"auto"===t.darkMode,"bg-light-ui-100 ":!1===t.darkMode,"bg-dark-ui-100":!0===t.darkMode,"min-h-full flex flex-grow flex-col overflow-hidden":!0}]},[e("div",{ref:"modalContainerInnerWrapper",class:[t.isScrollingWholeModal?"block":"contents","pb-0"]},[t.xHeader?e("header",{ref:"header"},[t.xDrawerHandle?e("div",{staticClass:"flex justify-center mb-2 pt-1",attrs:{id:"tray-expander-controller"}},[e("div",{staticClass:"rounded w-7 h-1 bg-highway-disabled dark:bg-white-disabled"})]):t._e(),t._v(" "),t._t("header")],2):t._e(),t._v(" "),e("div",{ref:"modalBody",class:{"h-auto flex flex-grow flex-col p-0 overflow-hidden":!0,"overflow-y-auto":t.fullSize||t.draggedToFullSize},on:{touchstart:t.handleTrayScrollStart,touchmove:t.handleTrayScroll,touchend:function(e){return t.$emit("dragend",t.dragDistanceY)}}},[e("div",{ref:"modalBodyContent"},[t._t("body")],2)])])])])])],1)}),[],!1,null,"a09f9f52",null);e.a=u.exports},213:function(t,e,o){var i=o(260);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,o(45).default)("cda50bb2",i,!0,{})},218:function(t,e,o){"use strict";o(140)},220:function(t,e,o){"use strict";o(143)},221:function(t,e,o){(t.exports=o(44)(!1)).push([t.i,".modal-container[data-v-5243e09c] {\n  max-height: none;\n  animation-name: modal-slide-up-5243e09c;\n  animation-duration: 0.2s;\n  animation-timing-function: cubic-bezier(0, 0, 0.2, 1);\n}\n.modal-container.full-size[data-v-5243e09c] {\n    animation-duration: 0.4s;\n}\n.out .modal-container[data-v-5243e09c] {\n    animation-name: modal-slide-down-5243e09c;\n    animation-duration: 0.15s;\n    animation-timing-function: cubic-bezier(0.4, 0, 1, 1);\n    animation-fill-mode: forwards;\n}\n@keyframes modal-slide-up-5243e09c {\n0% {\n    transform: translateY(100%);\n}\n100% {\n    transform: translateY(0);\n}\n}\n@keyframes modal-slide-down-5243e09c {\n0% {\n    transform: translateY(0);\n}\n100% {\n    transform: translateY(100%);\n}\n}\n",""])},259:function(t,e,o){"use strict";o(213)},260:function(t,e,o){(t.exports=o(44)(!1)).push([t.i,".modal-container[data-v-a09f9f52] {\n  max-height: none;\n  animation-name: modal-slide-up-a09f9f52;\n  animation-duration: 0.2s;\n  animation-timing-function: cubic-bezier(0, 0, 0.2, 1);\n}\n.modal-container.full-size[data-v-a09f9f52] {\n    animation-duration: 0.4s;\n}\n.out .modal-container[data-v-a09f9f52] {\n    animation-name: modal-slide-down-a09f9f52;\n    animation-duration: 0.15s;\n    animation-timing-function: cubic-bezier(0.4, 0, 1, 1);\n    animation-fill-mode: forwards;\n}\n@keyframes modal-slide-up-a09f9f52 {\n0% {\n    transform: translateY(100%);\n}\n100% {\n    transform: translateY(0);\n}\n}\n@keyframes modal-slide-down-a09f9f52 {\n0% {\n    transform: translateY(0);\n}\n100% {\n    transform: translateY(100%);\n}\n}\n",""])},448:function(t,e,o){var i=o(514);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,o(45).default)("4af4ecee",i,!0,{})},449:function(t,e,o){},473:function(t,e,o){"use strict";var i=o(6),n=o(56),r=o.n(n),a=o(347),s=o.n(a),l=Object(i.defineComponent)({__name:"rich_text_editor",props:{placeholder:null,value:null,dir:null,toolbarId:null,ariaLabel:null,title:null},emits:["initialize","focus","selectionchange","attributeschange","blur","input","fileaccept","enter","arrow-down-on-last-line","arrow-up-on-first-line","paste"],setup(t,{expose:e,emit:o}){const n=t,a=/^(https?:\/\/(?:www\.|(?!www))[^\s.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})$/gi;s.a.config.textAttributes.sup={tagName:"sup",inheritable:!0},s.a.config.textAttributes.sub={tagName:"sub",inheritable:!0},s.a.config.textAttributes.mark={tagName:"mark",inheritable:!0},s.a.config.blockAttributes.math={tagName:"var",terminal:!0,text:{plaintext:!0}};const l=Object(i.ref)({}),c=r()("rte"),d=Object(i.ref)(null),p=Object(i.ref)(null);function u(){l.value.activateAttribute("frozen"),p.value=l.value.getSelectedRange()}function h(){p.value&&(l.value.setSelectedRange(p.value),p.value=null),l.value&&l.value.deactivateAttribute("frozen")}function g(){Object(i.nextTick)(()=>{setTimeout(()=>{var t;d.value&&(null===(t=d.value)||void 0===t||t.focus())})})}function f(t,e){h(),l.value.activateAttribute(t,e),"href"===t&&v()}function m(t){l.value.deactivateAttribute(t)}function v(){const t=l.value.getSelectedRange();t&&t[0]!==t[1]&&l.value.setSelectedRange(t[1])}function y(){var t;return(null===(t=d.value)||void 0===t?void 0:t.value)||""}function b(){return l.value.composition.currentAttributes}function x(){if(!l.value)return"";if(!l.value.getDocument)return"";const t=l.value.getSelectedRange();return t?l.value.getDocument().getStringAtRange(t):""}function k(){if(!l.value)return{};if(!l.value.getDocument)return{};const t=l.value.getSelectedRange();if(!t)return{};const e=l.value.getClientRectAtPosition(t[0]);return e?{x:e.x,y:e.y}:{}}function S(t){l.value=t.target.editor,l.value.loadHTML(n.value),o("initialize")}function w(){o("focus")}function _(){o("blur")}function O(){h()}function C(){o("selectionchange",x(),k())}function P(){o("attributeschange",b())}function D(){o("input",y())}function T(t){o("fileaccept",t)}function j(){o("enter")}return e({editor:l,freezeSelection:u,defreezeSelection:h,focus:g,activateAttribute:f,deactivateAttribute:m,moveCursorToEndOfSelection:v,html:y,activeAttributes:b,selectedText:x,selectionCoordinates:k,onInitialize:S,onFocus:w,onBlur:_,onFocusIn:O,onSelectionChange:C,onAttributesChange:P,onInput:D,onFileAccept:T,onEnter:j}),Object(i.watch)(()=>n.value,t=>{l.value&&y()!==t&&l.value.loadHTML(t)}),{__sfc:!0,props:n,urlRegex:a,editor:l,uniqueId:c,editorEl:d,frozenSelectionRange:p,emit:o,freezeSelection:u,defreezeSelection:h,focus:g,activateAttribute:f,deactivateAttribute:m,moveCursorToEndOfSelection:v,html:y,activeAttributes:b,selectedText:x,selectionCoordinates:k,onInitialize:S,onFocus:w,onBlur:_,onFocusIn:O,onSelectionChange:C,onAttributesChange:P,onInput:D,onFileAccept:T,onEnter:j,onAttachmentAdd:function(t){t.attachment&&t.attachment.remove(),t.originalEvent&&t.originalEvent.attachment&&t.originalEvent.attachment.remove()},autolinkPastedUrl:function(t){setTimeout(()=>{const e=t.clipboardData;let o;if(e&&"function"===typeof e.getData&&(o=e.getData("Text")),o&&o.match(a)){const e=t.currentTarget,i=e.editor,n=i.getDocument().toString(),r=e.editor.getSelectedRange(),a=n.substring(0,r[0]).lastIndexOf(o);return i.recordUndoEntry("Auto Link Paste"),i.setSelectedRange([a,r[0]]),i.activateAttribute("href",o),i.setSelectedRange(r)}return!0},0)},sanitizePastedHtml:function(t){var e;if(!(null===(e=null===t||void 0===t?void 0:t.paste)||void 0===e?void 0:e.html))return;const o=document.createElement("div");o.innerHTML=t.paste.html,Array.from(o.getElementsByTagName("*")).forEach(t=>{/^h\d$/i.test(t.nodeName)&&(t.outerHTML=`<div>${t.innerHTML}</div>`)}),t.paste.html=o.innerHTML},onArrowDown:function(){l.value.getSelectedRange()[0]===l.value.getDocument().toString().length-1&&o("arrow-down-on-last-line")},onArrowUp:function(){0===l.value.getSelectedRange()[0]&&o("arrow-up-on-first-line")}}}}),c=(o(513),o(515),o(3)),d=Object(c.a)(l,(function(){var t=this,e=t._self._c,o=t._self._setupProxy;return e("div",{staticClass:"rich-text-editor"},[e("input",{attrs:{id:o.uniqueId,type:"hidden"},domProps:{value:t.value}}),e("trix-editor",{ref:"editorEl",attrs:{toolbar:t.toolbarId,input:o.uniqueId,"aria-label":t.ariaLabel,title:t.title,placeholder:t.placeholder,dir:t.dir},on:{paste:[o.autolinkPastedUrl,function(e){return e.stopPropagation(),t.$emit("paste",e)}],"trix-initialize":o.onInitialize,"trix-change":o.onInput,"trix-selection-change":o.onSelectionChange,"trix-attributes-change":o.onAttributesChange,"trix-file-accept":o.onFileAccept,"trix-attachment-add":o.onAttachmentAdd,"trix-before-paste":o.sanitizePastedHtml,focusin:o.onFocusIn,"trix-focus":o.onFocus,"trix-blur":o.onBlur,keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:o.onEnter.apply(null,arguments)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:o.onArrowDown.apply(null,arguments)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:o.onArrowUp.apply(null,arguments)}]}})],1)}),[],!1,null,"b937c366",null);e.a=d.exports},513:function(t,e,o){"use strict";o(448)},514:function(t,e,o){(t.exports=o(44)(!1)).push([t.i,"trix-editor[data-v-b937c366] {\n  min-height: 24px;\n}\n.rich-text-editor:not(.new-post-modal-editor) trix-editor[data-v-b937c366]:empty:not(:focus)::before {\n  color: rgba(0, 0, 0, 0.38);\n}\n[data-color-scheme='dark'] .rich-text-editor:not(.new-post-modal-editor) trix-editor[data-v-b937c366]:empty:not(:focus)::before {\n    color: rgba(255, 255, 255, 0.5);\n}\n.new-post-modal-editor trix-editor[data-v-b937c366]:empty:not(:focus)::before {\n  --tw-text-opacity: 1;\n  color: rgba(29, 29, 29, var(--tw-text-opacity));\n}\n@media (prefers-color-scheme: dark) {\n.new-post-modal-editor trix-editor[data-v-b937c366]:empty:not(:focus)::before {\n    --tw-text-opacity: 1;\n    color: rgba(255, 255, 255, var(--tw-text-opacity));\n}\n}\n.new-post-modal-editor trix-editor[data-v-b937c366]:empty:not(:focus)::before {\n  opacity: .38;\n}\n@media (prefers-color-scheme: dark) {\n.new-post-modal-editor trix-editor[data-v-b937c366]:empty:not(:focus)::before {\n    opacity: 0.5;\n}\n}\n",""])},515:function(t,e,o){"use strict";o(449)},530:function(t,e,o){"use strict";var i=o(0),n=o(199),r=o(111),a=o(79),s=function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},l=function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)};let c=class extends i.j{};s([Object(i.h)({default:!1}),l("design:type",Boolean)],c.prototype,"isPhone",void 0),s([Object(i.h)({default:!1}),l("design:type",Boolean)],c.prototype,"isDraggableDrawer",void 0),c=s([Object(i.b)({components:{OzDrawerStatic:r.a,OzDrawerDraggable:n.a,OzPopoverModal:a.b}})],c);var d=c,p=o(3),u=Object(p.a)(d,(function(){var t=this,e=t._self._c;t._self._setupProxy;return t.isPhone&&!t.isDraggableDrawer?e("OzDrawerStatic",t._b({on:{"scrim-click":function(e){return t.$emit("scrim-click")},"scrim-esc":function(e){return t.$emit("scrim-esc")}},scopedSlots:t._u([{key:"header",fn:function(){return[t._t("header")]},proxy:!0},{key:"body",fn:function(){return[t._t("body")]},proxy:!0}],null,!0)},"OzDrawerStatic",{...t.$props,...t.$attrs},!1)):t.isPhone&&t.isDraggableDrawer?e("OzDrawerDraggable",t._b({on:{"scrim-click":function(e){return t.$emit("scrim-click")},"scrim-esc":function(e){return t.$emit("scrim-esc")},swipedown:function(e){return t.$emit("swipedown",e)},swipeup:function(e){return t.$emit("swipeup",e)}},scopedSlots:t._u([{key:"header",fn:function(){return[t._t("header")]},proxy:!0},{key:"body",fn:function(){return[t._t("body")]},proxy:!0}],null,!0)},"OzDrawerDraggable",{...t.$props,...t.$attrs},!1)):e("OzPopoverModal",t._b({on:{"trigger-anchor-update":function(e){return t.$emit("trigger-anchor-update")},"scrim-click":function(e){return t.$emit("scrim-click")},"scrim-esc":function(e){return t.$emit("scrim-esc")}},scopedSlots:t._u([{key:"header",fn:function(){return[t._t("header")]},proxy:!0},{key:"body",fn:function(){return[t._t("body")]},proxy:!0}],null,!0)},"OzPopoverModal",{...t.$props,...t.$attrs},!1))}),[],!1,null,null,null);e.a=u.exports},70:function(t,e,o){"use strict";o.r(e),o.d(e,"OzDividerColorScheme",(function(){return i})),o.d(e,"OzDividerOrientation",(function(){return n}));var i,n,r=o(0),a=function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},s=function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)};!function(t){t.Solid="Solid",t.Translucent="Translucent"}(i||(i={})),function(t){t.Horizontal="horizontal",t.Vertical="vertical"}(n||(n={}));let l=class extends r.j{constructor(){super(...arguments),this.OzDividerColorScheme=i,this.OzDividerOrientation=n}};a([Object(r.h)({default:"auto"}),s("design:type",Object)],l.prototype,"darkMode",void 0),a([Object(r.h)({required:!0}),s("design:type",String)],l.prototype,"colorScheme",void 0),a([Object(r.h)({default:n.Horizontal}),s("design:type",String)],l.prototype,"orientation",void 0),l=a([Object(r.b)({})],l);var c=l,d=o(3),p=Object(d.a)(c,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{class:[{"h-[0.5px]":t.orientation===t.OzDividerOrientation.Horizontal,"w-[0.5px]":t.orientation===t.OzDividerOrientation.Vertical},t.colorScheme===t.OzDividerColorScheme.Solid&&[{"bg-divider-gray dark:bg-divider-gray-dark":"auto"===t.darkMode,"bg-divider-gray":!1===t.darkMode,"bg-divider-gray-dark":!0===t.darkMode}],t.colorScheme===t.OzDividerColorScheme.Translucent&&["bg-opacity-30",{"bg-grey-200 dark:bg-white-400":"auto"===t.darkMode,"bg-grey-200":!1===t.darkMode,"bg-white-400":!0===t.darkMode}]]})}),[],!1,null,null,null);e.default=p.exports},73:function(t,e,o){"use strict";o.d(e,"d",(function(){return i})),o.d(e,"a",(function(){return n})),o.d(e,"c",(function(){return r})),o.d(e,"b",(function(){return a}));var i,n,r,a,s=o(0),l=o(70),c=o(27),d=o(39),p=function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},u=function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)};!function(t){t.H44px="H44px",t.H48px="H48px",t.H56px="H56px"}(i||(i={})),function(t){t.None="None",t.Bubble100="Bubble100",t.Bubble200="Bubble200",t.Grey100="Grey100",t.HighlightText="HighlightText"}(n||(n={})),function(t){t.Default="Default",t.Primary="Primary",t.Secondary="Secondary",t.Danger="Danger",t.Disabled="Disabled",t.Highlighted="Highlighted"}(r||(r={})),function(t){t.Default="Default",t.DisplayOnly="DisplayOnly",t.HistoryPushState="HistoryPushState"}(a||(a={}));let h=class extends s.j{constructor(){super(...arguments),this.FocusStyle=n,this.OzDividerColorScheme=l.OzDividerColorScheme,this.OzTextButtonColorScheme=d.OzTextButtonColorScheme,this.RowStyle=r,this.SizePreset=i}get iconSize(){return{[i.H44px]:16,[i.H48px]:24,[i.H56px]:24}[this.sizePreset]}get rowsData(){return this.rows.map(t=>Object.assign(Object.assign({rowStyle:r.Default},this.commonSettings),t))}get xLeftIcon(){return this.rowsData.some(t=>t.icon)}get textHighlightStyles(){return[{"hover-hover:group-hover:text-grape-500 hover-hover:dark:group-hover:text-canary-500":"auto"===this.darkMode,"hover-hover:group-hover:text-grape-500":!1===this.darkMode,"hover-hover:group-hover:text-canary-500":!0===this.darkMode},{"group-focus-visible:text-grape-500 dark:group-focus-visible:text-canary-500":"auto"===this.darkMode,"group-focus-visible:text-grape-500":!1===this.darkMode,"group-focus-visible:text-canary-500":!0===this.darkMode},{"group-active:text-grape-500 dark:group-active:text-canary-500":"auto"===this.darkMode,"group-active:text-grape-500":!1===this.darkMode,"group-active:text-canary-500":!0===this.darkMode}]}getAccessibilityAttrs(t){return{"aria-checked":t.ariaChecked,"aria-label":t.ariaLabel,role:t.role||(this.accessibilityRole?"menuitem":void 0)}}selectRow(t,e){var o;e.isDisabled||(e.hrefMode!==a.Default&&t.preventDefault(),e.hrefMode===a.HistoryPushState&&(null===(o=null===window||void 0===window?void 0:window.history)||void 0===o||o.pushState({url:e.href},"",e.href)),this.$emit("select-row",t,e.eventPayload))}mounted(){this.isPhone?setTimeout(()=>{this.scrollActiveRowIntoView()},500):this.scrollActiveRowIntoView()}scrollActiveRowIntoView(){var t;if(!this.activeRow)return;const e=null===(t=this.$refs[this.activeRow])||void 0===t?void 0:t[0];null===e||void 0===e||e.scrollIntoView({behavior:"auto",block:"center",inline:"nearest"})}};p([Object(s.h)({default:"auto"}),u("design:type",Object)],h.prototype,"darkMode",void 0),p([Object(s.h)({default:i.H48px}),u("design:type",String)],h.prototype,"sizePreset",void 0),p([Object(s.h)({required:!0}),u("design:type",String)],h.prototype,"focusStyle",void 0),p([Object(s.h)({default:!1}),u("design:type",Boolean)],h.prototype,"xLastRowDivider",void 0),p([Object(s.h)({default:()=>[]}),u("design:type",Object)],h.prototype,"commonSettings",void 0),p([Object(s.h)({required:!0}),u("design:type",Array)],h.prototype,"rows",void 0),p([Object(s.h)({default:!1}),u("design:type",Boolean)],h.prototype,"isPhone",void 0),p([Object(s.h)({default:""}),u("design:type",String)],h.prototype,"activeRow",void 0),p([Object(s.h)(),u("design:type",String)],h.prototype,"accessibilityRole",void 0),h=p([Object(s.b)({components:{OzTextButton:d.default,OzIcon:c.default,OzDivider:l.default}})],h);var g=h,f=o(3),m=Object(f.a)(g,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{class:["font-sans"],attrs:{role:t.accessibilityRole}},[t._l(t.rowsData,(function(o,i){return[e("div",{key:`${o.icon}-${i}`,ref:o.ref,refInFor:!0,class:["block","py-1","px-2"],attrs:{"data-cy":o.testId,"data-pw":o.testId,role:"presentation"}},[e(o.href?"a":"div",t._b({tag:"component",class:["group","focus-visible:outline-none",o.isDisabled?"cursor-not-allowed":"cursor-pointer",o.rowStyle===t.RowStyle.Default&&{"text-dark-text-100":!1===t.darkMode,"text-light-text-100":!0===t.darkMode,"text-dark-text-100 dark:text-light-text-100":"auto"===t.darkMode},o.rowStyle===t.RowStyle.Disabled&&t.sizePreset===t.SizePreset.H44px&&{"text-dark-text-300":!1===t.darkMode,"text-light-text-300":!0===t.darkMode,"text-dark-text-300 dark:text-light-text-300":"auto"===t.darkMode},o.rowStyle===t.RowStyle.Disabled&&t.sizePreset===t.SizePreset.H48px&&{"text-dark-text-400":!1===t.darkMode,"text-light-text-400":!0===t.darkMode,"text-dark-text-400 dark:text-light-text-400":"auto"===t.darkMode},o.rowStyle===t.RowStyle.Highlighted&&{"font-semibold":!0,"text-grape-500":!1===t.darkMode,"text-canary-500":!0===t.darkMode,"text-grape-500 dark:text-canary-500":"auto"===t.darkMode},o.rowStyle===t.RowStyle.Primary&&"text-padlet-pink-500",o.rowStyle===t.RowStyle.Secondary&&{"text-dark-text-200":!1===t.darkMode,"text-light-text-200":!0===t.darkMode,"text-dark-text-200 dark:text-light-text-200":"auto"===t.darkMode},o.rowStyle===t.RowStyle.Danger&&"text-danger-100","rounded-xl","p-2",t.sizePreset===t.SizePreset.H44px&&"min-h-[20px]",t.sizePreset===t.SizePreset.H48px&&"min-h-[24px]",t.sizePreset===t.SizePreset.H56px&&"min-h-[32px]",!o.isDisabled&&["transition-colors",t.focusStyle===t.FocusStyle.Bubble100&&[{"hover-hover:hover:bg-light-ui-100 hover-hover:dark:hover:bg-dark-ui-100":"auto"===t.darkMode,"hover-hover:hover:bg-light-ui-100":!1===t.darkMode,"hover-hover:hover:bg-dark-ui-100":!0===t.darkMode},{"active:bg-light-ui-100 dark:active:bg-dark-ui-100":"auto"===t.darkMode,"active:bg-light-ui-100":!1===t.darkMode,"active:bg-dark-ui-100":!0===t.darkMode}],t.focusStyle===t.FocusStyle.Bubble200&&[{"hover-hover:hover:bg-light-ui-200 hover-hover:dark:hover:bg-dark-ui-200":"auto"===t.darkMode,"hover-hover:hover:bg-light-ui-200":!1===t.darkMode,"hover-hover:hover:bg-dark-ui-200":!0===t.darkMode},{"active:bg-light-ui-200 dark:active:bg-dark-ui-200":"auto"===t.darkMode,"active:bg-light-ui-200":!1===t.darkMode,"active:bg-dark-ui-200":!0===t.darkMode}],t.focusStyle===t.FocusStyle.Grey100&&[{"hover-hover:hover:bg-grey-100 hover-hover:dark:hover:bg-grey-700":"auto"===t.darkMode,"hover-hover:hover:bg-grey-100":!1===t.darkMode,"hover-hover:dark:hover:bg-grey-700":!0===t.darkMode},{"active:bg-grey-100 dark:active:bg-grey-700":"auto"===t.darkMode,"active:bg-grey-100":!1===t.darkMode,"active:bg-grey-700":!0===t.darkMode}],t.focusStyle===t.FocusStyle.HighlightText&&o.rowStyle===t.RowStyle.Default&&t.textHighlightStyles],"focus-visible:ring-2",{"focus-visible:ring-grape-500 dark:focus-visible:ring-canary-500":"auto"===t.darkMode,"focus-visible:ring-grape-500":!1===t.darkMode,"focus-visible:ring-canary-500":!0===t.darkMode},"flex","items-center",o.rowClasses],attrs:{tabindex:0,disabled:o.isDisabled,"aria-disabled":o.isDisabled,href:o.href||null,rel:o.href&&"noopener nofollow"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.selectRow(e,o)},keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.stopPropagation(),e.preventDefault(),t.selectRow(e,o))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"])?null:(e.stopPropagation(),e.preventDefault(),t.selectRow(e,o))}]}},"component",t.getAccessibilityAttrs(o),!1),[t.xLeftIcon&&o.icon?e("OzIcon",{class:[{"me-3":t.sizePreset===t.SizePreset.H44px,"me-4":t.sizePreset===t.SizePreset.H48px||t.sizePreset===t.SizePreset.H56px},!o.isDisabled&&[t.FocusStyle.Bubble100,t.FocusStyle.Bubble200].includes(t.focusStyle)&&o.rowStyle===t.RowStyle.Default&&t.textHighlightStyles],attrs:{name:o.icon,size:t.iconSize}}):t.$scopedSlots.startAdornment?t._t("startAdornment",null,{row:o,iconSize:t.iconSize}):t._e(),t._v(" "),e("div",{class:[o.textTruncated&&"truncate","flex-1",o.textStyleClass||{"text-body-small":t.sizePreset===t.SizePreset.H44px,"text-body":t.sizePreset===t.SizePreset.H48px},!t.xLeftIcon&&"ps-0.5"],attrs:{title:o.text}},[o.htmlText?e("span",{domProps:{innerHTML:t._s(o.htmlText)}}):e("span",[t._v(t._s(o.text))])]),t._v(" "),o.rightIcon?e("OzIcon",{class:[!o.isDisabled&&o.rightIconHighlighted&&{"text-grape-500":!1===t.darkMode,"text-canary-500":!0===t.darkMode,"text-grape-500 dark:text-canary-500":"auto"===t.darkMode},o.isDisabled&&o.rightIconHighlighted&&{"text-modal-overlay-grape":!1===t.darkMode,"text-modal-overlay-canary":!0===t.darkMode,"text-modal-overlay-grape dark:text-modal-overlay-canary":"auto"===t.darkMode},!o.isDisabled&&!o.rightIconHighlighted&&o.rowStyle===t.RowStyle.Default&&{"text-dark-text-200 hover-hover:group-hover:text-dark-text-100":!1===t.darkMode,"text-light-text-200 hover-hover:group-hover:text-light-text-100":!0===t.darkMode,"text-dark-text-200 dark:text-light-text-200 hover-hover:group-hover:text-dark-text-100 hover-hover:dark:group-hover:text-light-text-100":"auto"===t.darkMode},!o.isDisabled&&t.focusStyle===t.FocusStyle.HighlightText&&o.rowStyle===t.RowStyle.Default&&t.textHighlightStyles],attrs:{name:o.rightIcon,size:o.rightIconSize||t.iconSize,"aria-label":o.rightIconAriaLabel}}):t._e()],2)],1),t._v(" "),t.xLastRowDivider||i<t.rows.length-1?e("OzDivider",{key:`${o.icon}-${i}-divider`,class:[!t.xLeftIcon&&!t.$scopedSlots.startAdornment&&"mx-4",(t.xLeftIcon||t.$scopedSlots.startAdornment)&&t.sizePreset===t.SizePreset.H44px&&"ms-10.5 me-4",(t.xLeftIcon||t.$scopedSlots.startAdornment)&&t.sizePreset===t.SizePreset.H48px&&"ms-13.5 me-4",(t.xLeftIcon||t.$scopedSlots.startAdornment)&&t.sizePreset===t.SizePreset.H56px&&"ms-13.5 me-2"],attrs:{"color-scheme":t.OzDividerColorScheme.Solid,"dark-mode":t.darkMode}}):t._e()]}))],2)}),[],!1,null,null,null);e.e=m.exports},86:function(t,e,o){"use strict";var i=o(0),n=function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},r=function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)};let a=class extends i.j{get style(){if(this.size)return{width:this.size+"px",height:this.size+"px"}}get strokeWidth(){return this.size&&this.size<30?4:2}};n([Object(i.h)({type:Number,default:48}),r("design:type",Number)],a.prototype,"size",void 0),n([Object(i.h)({type:String,default:"rainbow"}),r("design:type",String)],a.prototype,"color",void 0),n([Object(i.h)({default:"default"}),r("design:type",String)],a.prototype,"variation",void 0),n([Object(i.h)({default:"auto"}),r("design:type",Object)],a.prototype,"darkMode",void 0),a=n([Object(i.b)({})],a);var s=a,l=(o(218),o(3)),c=Object(l.a)(s,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{class:["loader","loader-"+t.variation,"color-"+t.color],style:t.style},["default"===t.variation?e("svg",{staticClass:"circular",attrs:{viewBox:"25 25 50 50"}},[e("circle",{staticClass:"path",attrs:{cx:"50",cy:"50",r:"20",fill:"none","stroke-width":t.strokeWidth,"stroke-miterlimit":"10"}})]):e("svg",{class:["fill-current",{"text-loading-spinner-dark dark:text-white-100":"auto"===t.darkMode,"text-white-100":!0===t.darkMode,"text-loading-spinner-dark":!1===t.darkMode}],attrs:{width:t.size+"px",height:t.size+"px",viewBox:"22 22 56 56",preserveAspectRatio:"xMidYMid"}},[e("g",{attrs:{transform:"rotate(0 50 50)"}},[e("rect",{attrs:{x:"47",y:"27",rx:"3",ry:"3.36",width:"6",height:"14"}},[e("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.875s",repeatCount:"indefinite"}})])]),t._v(" "),e("g",{attrs:{transform:"rotate(45 50 50)"}},[e("rect",{attrs:{x:"47",y:"27",rx:"3",ry:"3.36",width:"6",height:"14"}},[e("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.75s",repeatCount:"indefinite"}})])]),t._v(" "),e("g",{attrs:{transform:"rotate(90 50 50)"}},[e("rect",{attrs:{x:"47",y:"27",rx:"3",ry:"3.36",width:"6",height:"14"}},[e("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.625s",repeatCount:"indefinite"}})])]),t._v(" "),e("g",{attrs:{transform:"rotate(135 50 50)"}},[e("rect",{attrs:{x:"47",y:"27",rx:"3",ry:"3.36",width:"6",height:"14"}},[e("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.5s",repeatCount:"indefinite"}})])]),t._v(" "),e("g",{attrs:{transform:"rotate(180 50 50)"}},[e("rect",{attrs:{x:"47",y:"27",rx:"3",ry:"3.36",width:"6",height:"14"}},[e("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.375s",repeatCount:"indefinite"}})])]),t._v(" "),e("g",{attrs:{transform:"rotate(225 50 50)"}},[e("rect",{attrs:{x:"47",y:"27",rx:"3",ry:"3.36",width:"6",height:"14"}},[e("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.25s",repeatCount:"indefinite"}})])]),t._v(" "),e("g",{attrs:{transform:"rotate(270 50 50)"}},[e("rect",{attrs:{x:"47",y:"27",rx:"3",ry:"3.36",width:"6",height:"14"}},[e("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.125s",repeatCount:"indefinite"}})])]),t._v(" "),e("g",{attrs:{transform:"rotate(315 50 50)"}},[e("rect",{attrs:{x:"47",y:"27",rx:"3",ry:"3.36",width:"6",height:"14"}},[e("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"0s",repeatCount:"indefinite"}})])])])])}),[],!1,null,"19067588",null);e.a=c.exports}}]);
//# sourceMappingURL=195-1d0887d2b57369909174.chunk.js.map